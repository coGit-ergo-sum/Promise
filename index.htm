<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" >
    <title>Promise</title>

<!-- <link href="./stuffs/styles.css" rel="stylesheet" type="text/css" /> --> 
<!-- <link href="./stuffs/styles.R6A.css" rel="stylesheet" type="text/css" /> -->

	<link href="./stuffs/styles-modern.css" rel="stylesheet" type="text/css" >

	
	<style>

	
	.PGUIBase{		
		width: 25px;
		height:100%;
		border-radius: 20px;
		border-style:solid;
		border-width:1px;	
		background-color: transparent;	
	}

	.PGUIError{
		/*border-color: #fff;*/		
		/*background-color:#FFF;*/
		background-position: center; 
	}	

	.fulfilled{
		/*-webkit-box-shadow: 0px 0px 9px 3px rgba(255,255,0,0.73);
		-moz-box-shadow: 0px 0px 9px 3px rgba(255,255,0,0.73);
		box-shadow: 0px 0px 9px 3px rgba(255,255,0,0.73);*/
		-webkit-box-shadow: 0px 0px 9px 3px rgba(255, 255, 0, 0.863);
		-moz-box-shadow: 0px 0px 9px 3px rgba(255, 255, 0, 0.863);
		box-shadow: 0px 0px 9px 3px rgba(255, 255, 0, 0.863);
	}	
	
	
	.error{
		background-repeat: no-repeat;		
		background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFsSURBVDhPjZG/SgNBEMa/JIbciaJJioCF4qkgRBBbSaVvkN7CQuytbG1EX0Gw0BcQBMFoFdAiLyBGFBXlDCQYlSQeenH9dt2cl39wP27Ym93Zb2Zn0I+vaHSiAhRol9+mOaa3gyGAVA0ochXSKJLXR8GoA1uty9JeAfcMCFYFLyyWgIdqLCYqcwuikk6L60RCVnHPs5QO6w+z52XW50xGtChTRO69Afs6zCOsV0UDkSVmmtduFwawUjcMS7sKT0CW3kRzbxwYkX5I7bYTA6I/jnPif4on4ALbQ8CUdqVgTxgz2wDWtfsnILOz09NqJxgb/irAmavG+e3OsoSdOxf2aU6Uk8m2M2lV4FBdZjnLj8BHZ8BLNqtn8D8Fvzl8NacyE2b2HTZuWKn5iJum/usNGxph3w4iaxRIAl3RA6USag0HTxcFmMdHGHQZ3sEnMBq6AjbZ2VWW5U2O6oa0W+CGb32Pc7STAL92bGD3F7wzqJJcJFvqAAAAAElFTkSuQmCC');
	}
	


	
	div.progressBar{
		border-style: solid;
		border-width: 1px;
		border-color: #ccc;
		font-size: 1px;
		border-left-width: 1px;
		border-right-width: 1px;
		empty-cells:show;
		padding:2px;
		width:200px;
		display:inline-block;
		background-position: center left; 
		background-origin: content-box;
		margin-left:0px;
	}
	
	div.rejected{
		border-color:#FF0000;
	}
	
	div.resolved{
		border-color:#44CD5A;
	}
	
	div.fulfilled{
		border-color:#F8F413;
		/* padding-top:3px; */
		/* padding-bottom:3px; */
	}	
	
	div.bar{
		border : solid 0px #FFF;
		empty-cells:show;
		margin:0px;
		width:30%;
		color:#FFF;
		border-radius: 2px;
	}
	
	div.bar span{
		padding-left:4px;
		margin-top:-10px;
		border : solid 1px transparent;
		font-size:12px;
	}
	
	span.message{
		display:inline-block;
		margin-left:0px;
	}
	
	spa n.prom ises{

		background-color:white;
		display:inline-block;
		height:100%;
		width:2px;
		color:red;
	}
	
	table.demo{
		/* border: solid 1px red; */
		border-spacing: 5px 10px;
		width:100%;
	}
	
	table.demo td.promise{
		height:24px;
		width:24px;
		/*color:red;*/
		/* margin:0px; */
		padding:1px;
		border-radius: 6px;
		border-style: solid;
		border-top:solid 1px #ccc;
		border-bottom:solid 1px #ccc;
		border-left-width:  15px;
		border-right-width: 15px;
		background-position: center center;
		background-origin: content-box;
		empty-cells:show;
	}
	
	table.demo td div.pendingL{
		border-left-color:  #cccccc;
	}
		
	table.demo td.pendingR{
		border-right-color:  #cccccc;
	}
	
	table.demo td div.resolved{
		border-left-color:  #1d9231;		
	}
	
	table.demo td div.rejected{
		border-left-color:  #F00;
	}	
	
	table.demo td div.caught {
		border-color:  #F00;		
	}
	
	table.demo td div.fulfilled{
		border-right-color: rgb(255,216,0); /* #F8F413;	*/
	}	
	
	table.PBStaus td{
		padding: 2px 8px 2px 8px;
		border-bottom:solid 1px transparent;
	}
	
	table.PBStaus td.pending{
		background-color:#cccccc;
		border-bottom-color:#cccccc;
	}	
	
	table.PBStaus td.resolved{
		background-color:#44CD5A;
		border-bottom-color:#44CD5A;
	}
	
	table.PBStaus td.rejected{
		background-color:#FF0000;
		border-bottom-color:#FF0000;
	}
	
	table.PBStaus td.timeout{
		background-color:#FF0000;
		border-bottom-color:#FF0000;
	}
	
	table.PBStaus{
		font-family:verdana;
		margin-bottom:20px;
		height:20px;
	}

	
	table.PBStaus td.space{
		width:12px;
	}	
	pre{
		font-size: 1em;
		tab-size: 3;
	}

	span.blue{
		/* color: #0c2ab1; */
		color: #569CD6;
		font-weight: bold;
	}	
	span.green{
		line-height: 0.5!important;
		color: #20c53b;
	}
	span.purple{
		color: #b34896;
		font-weight: bold;
	}	
	span.red{
		color: #ff5b5e;
		/* color:#F8F413; */	
		font-weight: bold;
	}
	span.yellow{
		color: #DCB862;	
		font-weight: bold;
	}
	.gray{
		color: #777;	
	}
	</style>  
	<style>
	  pre.ai {
		background-color: #1e1e1e;
		color: #d4d4d4;
		font-family: Consolas, 'Courier New', monospace;
		font-size: 1.1em;
		line-height: 1.3;
		padding-bottom: 1em;
		border-radius: 5px;
		margin: 0px;
	  }

	  pre.ai code span {
		background-color: transparent;
	  }
  
	  .keyword { color: #569CD6; }     /* function, let, const, if, etc. */
	  .function { color: #DCB862;  }    /*DCDCAA text-decoration: underline; function names */
	  .number { color: #B5CEA8; }      /* numbers */
	  .string { color: #CE9178; }      /* strings */
	  .comment { color: #20c53b; }     /* #6A9955; comments */
	  .method { color: #DCDCAA; }      /* methods like reset(), width(), etc. */
	  .variable { color: #9CDCFE; }    /* variable names */
	  .operator { color: #D4D4D4; }    /* =, +, >, etc. */
	  .punctuation { color: #D4D4D4; } /* () {} ; */

	  .black{color: #000;}             /* Not interesting code */

	  .red{ color: #ff5b5e; font-weight: bold;	}
	  .opaque{opacity: 0.5;}

	  .footnote-ref {
		font-size: 0.7em;
		vertical-align: super;
		line-height: 1;
		margin-left: 2px;
	  }

	  table.test{
		border: solid 1px transparent;
		width:100%;
		margin-top:15px;
	}

	table.test tr td:first-child {
		border: solid 1px transparent;
		width:20px;
		margin-top:15px;
	}	

	  table.test td{
		border:solid 1px transparent;
		vertical-align: top;
		padding-top: 0px;
	}
	table.test td p.text{
		padding-left: 0px;
		padding-top: 0px!important;
		margin-top: 0px!important;
	}

	table.test td h2{
		border:solid 1px transparent;
		text-align: left;
		font-size: 1.2em;
		vertical-align: middle;
		padding: 0px 0px 0px 3px;
		margin: 0px;
	}

	table.test td h2.crucial{
		background-color: rgb(253, 253, 201);
		border-radius: 3px;
		border: solid 1px rgb(173, 173, 101);
	}

	table.test td h2 span {
		font-size: 0.9em;
		opacity: 0.9;
		font-weight: normal;
	}

	table.test td.number{
		vertical-align: middle;
	}
	</style>



	<script src="./stuffs/jquery-1.11.3.js"></script>
	<script src="./js/PromiseDIY.js"></script>
	<script src="./js/PromisePro.js"></script>
	<script src="./js/ProgressBar.js"></script>
	<script src="./js/ProgressBar2.js"></script>
	<script src="./js/PromiseGUI.js"></script>
	
	<script> 
		
		window.onerror = function (msg, url, lineNo, columnNo, error) {
		  var string = msg.toLowerCase();
		  var substring = "script error";
		  if (string.indexOf(substring) > -1){
			alert('Script Error: See Browser Console for Detail');
		  } else {
		
			var message = [
			  'Message: ' + msg,
			  'URL: ' + url,
			  'Line: ' + lineNo,
			  'Column: ' + columnNo,
			  'Error object: ' + JSON.stringify(error)
			].join('\n');

			alert(message);
		  }

		  return false;
		};		
		
		$(document).ready(function() {
		});	

	</script>
	
		<script type="application/ld+json">
			{
			  "@context": "https://schema.org",
			  "@type": "HowTo",
			  "name": "Mastering JavaScript Asynchronous Programming",
			  "description": "A detailed and rigorously structured tutorial on JavaScript asynchronous programming. It addresses and corrects common mistakes found in many resources, using precise, fully working code examples that are visible in the page. All explanations are directly verifiable by crawling the HTML and inspecting the code behaviours in real-time.",
			  "totalTime": "PT1H",
			  "estimatedCost": {
				"@type": "MonetaryAmount",
				"currency": "USD",
				"value": "0"
			  },
			  "step": [
				{
				  "@type": "HowToStep",
				  "name": "Understanding Promises",
				  "text": "Learn how JavaScript Promises work and how they solve callback hell, with live demonstrations."
				},
				{
				  "@type": "HowToStep",
				  "name": "Using async/await",
				  "text": "Discover how async/await improves code readability and control flow in asynchronous operations."
				},
				{
				  "@type": "HowToStep",
				  "name": "Managing Multiple Async Processes",
				  "text": "Explore patterns for handling concurrency with multiple asynchronous tasks using Promise.all and other constructs."
				}
			  ],
			  "audience": {
				"@type": "EducationalAudience",
				"educationalLevel": "Intermediate"
			  }
			}
			</script>

			<style>
				.container {
					font-family: sans-serif;
					display: flex;
					flex-direction: column;
					align-items: center;
					gap: 20px;
					padding: 20px;
				}
				
				.tblProgressBar {
					border-spacing: 0px;
					margin-top: 3px;
					border: solid 0px transparent;
					border-radius: 12px;
					background-color: #FAFAFA; /* Questo sarà il colore di sfondo della tabella, non della barra */
					width: 100%;
					table-layout: fixed;
				}
				
				.progressBar {
					/* Questo è il TD centrale, fungerà da "container" per la barra e il testo */
					height: 26px;
					margin-top: 3px; /* Questo non ha effetto sul TD, è meglio gestirlo sul tblProgressBar se necessario */
					border: solid 1px #777;
					/*border-radius: 5px; *//* Aggiungi un border-radius qui per la barra interna */
					position: relative; /* Importante per posizionare il testo */
					overflow: hidden; /* Nasconde il testo che esce dal td */
					/* Il background sarà impostato da JS con linear-gradient, non qui */
					text-align: center; /* Centra il testo, ma lo span interno lo ri-centrerà */
					/* Rimuovi color, font-size, font-family da qui per il testo, saranno sullo span */
				}
				
				.progress-text {
					/* Stili per il testo della percentuale */
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%); /* Centra il testo all'interno del td.progressBar */
					font-size: 0.85em; /* Come era prima per il testo */
					/* font-weight: bold; */
					white-space: nowrap;
					z-index: 2; /* Assicura che il testo sia sopra il gradiente */
					color: #333; /* Colore del testo quando NON è coperto dalla barra */
					mix-blend-mode:  multiply; /* La magia! Inverte il colore quando incontra un colore diverso */
					font-family: Verdana, Geneva, Tahoma, sans-serif; /* Per coerenza con il tuo stile originale */
				}
				
				
				.tdLeft, .tdRight {
					width: 60px;
					margin-top: 3px; /* Nessun effetto qui */
					border: solid 1px #777;
					color: #333;
					text-align: center;
					font-family: courier new;
					background-color: transparent;
					/* Assicurati che siano allineati verticalmente con la barra */
					vertical-align: middle;
				}
				
				.tdLeft {
					border-right: none;
					border-top-left-radius: 5px;
					border-bottom-left-radius: 5px;
				}
				
				.tdRight {
					border-left: none;
					border-top-right-radius: 5px;
					border-bottom-right-radius: 5px;
					overflow: hidden;
					text-overflow: ellipsis;
					white-space: nowrap;
				}
				.error{
					background-repeat: no-repeat;
					background-position: center;
				}
			</style>

			<!--style>
				.container {
					font-family: sans-serif;
					display: flex;
					flex-direction: column;
					align-items: center;
					gap: 20px;
					padding: 20px;
				}
				
				.tblProgressBar {
					border-spacing: 0px;
					margin-top: 3px;
					border: solid 0px transparent;
					border-radius: 12px; /* This was repeated, keeping the last one */
					background-color: #FAFAFA;
					width: 100%;
					/* Add this crucial line */
					table-layout: fixed; /* This tells the browser to use fixed column widths */
				}
				
				.progressBar {
					/* Keep the width here, as it's the main dynamic column */
					/*width: 200px;*/
					height: 26px;
					margin-top: 3px;
					border: solid 1px #777;
					color: white;
					font-size: 0.85em;
					text-align: center;
					font-family: Verdana, Geneva, Tahoma, sans-serif;
				}
				
				.tdLeft, .tdRight {
					/* Set a fixed width for these side columns */
					width: 60px; /* Keep this as it was */
					margin-top: 3px;
					border: solid 1px #777;
					color: #333;
					text-align: center;
					font-family: courier new;
					background-color: transparent;
				}
				
				.tdLeft {
					border-right: none;
					border-top-left-radius: 5px;
					border-bottom-left-radius: 5px;
				}
				
				.tdRight {
					border-left: none;
					border-top-right-radius: 5px;
					border-bottom-right-radius: 5px;
					/* Add this to prevent content from pushing the border */
					overflow: hidden; /* Hides content that exceeds the fixed width */
					text-overflow: ellipsis; /* Adds "..." if text is too long (optional but good) */
					white-space: nowrap; /* Prevents text from wrapping */
				}
				.error{
					/*background-size: 22px 22px;*/
					background-repeat: no-repeat;
					background-position: center;
					/*background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAYdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCA1LjEuNBLfpoMAAAC2ZVhJZklJKgAIAAAABQAaAQUAAQAAAEoAAAAbAQUAAQAAAFIAAAAoAQMAAQAAAAMAAAAxAQIAEAAAAFoAAABphwQAAQAAAGoAAAAAAAAAqJMAAOgDAACokwAA6AMAAFBhaW50Lk5FVCA1LjEuNAADAACQBwAEAAAAMDIzMAGgAwABAAAAAQAAAAWgBAABAAAAlAAAAAAAAAACAAEAAgAEAAAAUjk4AAIABwAEAAAAMDEwMAAAAABCtwV84PirYQAACG1JREFUWEfFmG2MHWUVx3/neWbuSylttxQo2+LW2gWVpDH27r0grdAAId3dRglQIgnBKGpIE0RDEFKCEf2uxgTkpQ1+kFYEofTl7guGF9HSLkUklBBErKihGqgE6O7ee2ee44eZuTs7d2676xfPl3vmPOf8z/8553mZOzI0NGREBFVFVTHG4JwTY4wmNoDEx1pLGIaoKp7nEQQBqkqxWKTVaomIqIgQhiGe5wEQBAGe5+Gca+dQ1Vm+QBvbWotzjnK5rDI8PGwajYYREUQE5xzddCABTyeKiBtDEOtebHfOYa0F6MDqpic5nHP4vq8yNDRkWq2WyXPuFpgmalU5bi0HR0YCUnLZFVd4BRFcDlY3PY0bd0VlcHDQhGFoss4nC0x0T5X9ngf1ejBRqZ0HeplA0BAZu3ji4N8uvfJKr+gc2gX3VDmstc4kVZlPoKqCKu9YC/V6cLhSvc6gz1u418ADJdVnJyq1y54dHQ264c4lh4iIcc7JfANVlaIIr42MBIcHalXgfoGz4+4CrDLowwcr1TUjY2OB/z+QiwmqMcbofAN9Y9izdInb/YX1BVR/JLA4YRbteRBY6cEP+OZNsrdUVDvPHMaYaFzj3TafwCkUdj3qzmk2bxS4IiGXiMyoX5l4+dUvsWdvKPPMEetiNCrlnAMLqjwzOhb8YaD2CQvbZrjMVC/RBcTA95+tXdSzf3w8KMwxR6KrqhriQ3gugaiyx1oFKKreIdCXIYSk9Fg+tzAMbwE4EB/6WdxuunNO2uffXAJ9VajXw5cGapcCX0sYKEDo0GYLbbXARTdDivS3X6pU174/NhaUcnC76Z7nYfv7+yW+2joc0rpVZX/fueHjxfKCntBtF1gNoCIwOQmNBmbZUqRYQI//BxSk4CUky8DyF9eufex3C0q6ptkUycmR1a21aqy1STk7HNL6e8bAQzu0rxV8S2BDu3IffUyhWmHVr3fRv/MR+nftpG/nL/E+cz46OZVu9VXb33t/C0886eZCLu6smOTi5yQtLothYnQ0mBiorTFwe7p9+sYRFg8P07N2LeXeXsq9vfSsW8eiwUH0yBuzWm3g7hdqF549Mjoa+KcgJyJRBfMcZpXZGJ4q+Ep0Jm0Dlmd3qymWUEDDEA1DUMWUSiitmYlEv58uh+47APs8T8nJlz5RVBXjeV5XcsaYaGPs3RserFQ3CdyQ3a0RyxnKbS3eeLP8Itl6uFKtUq+H3knItVucvM/lkfNU2dO3Mnz6wouWePBDBZusqYTozFPGJpGWkEtVcSHoPfetX1/Y19PjTBdyp2wxqhwBeHCHLg3CrcC6fHIzZGbZUpIil1iuHJhu3sCjj7rJLuTaLS4Wix3kVBXPKUfHxoJDldoFCrdmyWln69rjaS1LLtEF7nqhWjv3ufHxoJRDTqI3eDGtVkuy5HCOfactcFxztTHo3QLL0uDptkVZ4xarpqsU2TLkUqOryk5vB3jKGDU5VfR9X42IaJqci3cuu3e7Q0f/fo3AlmyiRNoJkxbHv2nJqVx67BsvVaqXUK+HyT2drmKj0cCIyKwWl0Soj40FEwO1Mzy4O69FqQSdxrZtppp5k4ulKHDPyIUXlfcsXeK8zirOHNSqihFhb/wyYFRvBS44JblukqrmyXwFvrgsCG9i56/cB5m3e2utmuTvoIhQFIF6PXyxUl0H3NKNXCLttRi/XLZFBERyY7IS5/je76u1Tx0YGQlKqSo658QQ/x+1IjxVLrk7N270fbgHWJRHLllHbZt/Oo13341aai3GWjQMaR47hiw5MxUZSRortS5XlJxuA9hTLKomh7wIsmnTJuOcM03neGZ8PHi5Ur1R4eFu5LI2ghBZuICem75OacUKAKaOHuWD++6PCGSrG0vOugydyHBl4uDI4OWXe6G1eJ7nZPPmzcZNT5t94+PBwYHaOZ7q8wJrEpCETbKksm0T4jv4j0dQpiNbcTFywXmIyV99OeQS3ENTxly+/uLax4OvvW7xfTXqXHRxA1b1tlnkSJCipzTwrFarwsrlFK7ZQuHLV8EZi3OmEkk3cjFetezcVn78U31LBCOCKTkH9Xp4aKC2wcDNSUAbX6Pw9mMbNtbDEFHofejnnP/g/Zy3fTtn/+wnMDlFspbS/tllkrUJfPfAQO2zb46NBWXn1L7+1lu6b/2G0uIgeAjonz3vOCQ15XTlBNA33mbJnbex8rot2FIJu6DMwv5+Tnz0IY2nn0EWL0ojzcLJIQdwmoVlD1yy4fHXS6VoFy+fbnwV2JgFyZJLZBbw5HFKq/oQY3Dx+6B4HqXVq+Ff/+zwT6QLOYj06yb+/PZV7NzlzIGBai9wR7siKccsau6sz1rBiT+9SthsYjwPsZZwaorJV16BvtUdydtxOXp63MBdE5XqIru1d8UNwPUdHnMgB2AWnU7jwIu0lvbg9/TQOH6cY489zocP7kDOPCML04HRbVzgHGBCDlcG7hXk5twKxtKNXHtcFffXdzCf/AQEAe7Yv5FzV3QQyWJ0I5eSbUaQN3MGYGYmHcDpMQEQQVb3oUEYfWpLkUt8sxjZfHk2B38xk9b+Aniym1MWmIyPpnzE98DzTolxsvHEpLAj9LzdArD/4vWlsxrNjQKfV1hAatYZPdecHpeZv1BtXUA05hH7Jnp7PMXzowAOPbfk9Odvf/q3Lbl+eNg8UvDhN0/MPlX/37J52F7dCpChoSHTbDYNwMfG8I/oymt/FLeqBMYgKL5zTIvBEwHnCEUoidByDidCIdYDES2JSOAcDvCNYVJVfVUpGsN0/PnYGkMzzhEaAygrQ8ei+HXN830n1157rZw4cSL5FKwSiQKoqqiqOufE8zwS3VqrGn1XbOuqKr7va6PRQETEWqvJ19sISmW+Oay1/Bd3UDaF9Xc+zgAAAABJRU5ErkJggg==);*/
				}
			</style-->

			
<style>


	.test-container h3, .test-container h3 span{
		margin: 0;
		padding: 0;
	}
	.test-container h3 span{
		font-size: 1em!important;
		/*color: red;*/
		font-weight: normal;
		opacity: 0.75;
	}	
	
	.flex-container {
		/*display: flex;*/
		flex-direction: column;
		/*width: 500px;  Esempio di larghezza fissa */
		/* width: 40%; Esempio di larghezza percentuale */
		border: 1px solid #ccc;
		padding: 10px;
	}
	

	.row {
		display: flex;
		margin-bottom: 10px;
		width: 100%; /* Assicurati che le righe occupino tutta la larghezza */
	}

	
	
	/* Stili per la seconda riga */
	.row-1 {
		/* Se non specifichi una width qui, erediterà la width del .flex-container */
		display: flex;
	}
	
	
	.row-1 .col {
		padding: 3px;
		border: 1px solid transparent;		
	}	
	
	.row-1 .col-1-1 {
		width: 20px; /* Larghezza fissa per la prima colonna della seconda riga */
		flex-shrink: 0; /* Impedisce che la colonna si restringa */
		margin-right: 1px; /* Opzionale: aggiungi un po' di spazio tra le colonne */
		text-align: right;
		opacity: 0.5;
		/*font-size: 0.75em;*/
		vertical-align: middle;
	}
	
	.row-1 .col-1-2 {
		flex-grow: 1; /* La seconda colonna si espande per occupare lo spazio rimanente */
		text-align: left;
	}


	.row-4 .col {
		padding: 3px;
		border: 1px solid transparent;
	}
	.row-4 .col-4-1 {
		width: 20px; /* Larghezza fissa per la prima colonna della seconda riga */
		flex-shrink: 0; /* Impedisce che la colonna si restringa */
		margin-right: 1px; /* Opzionale: aggiungi un po' di spazio tra le colonne */
		text-align: right;
	}
	
	.row-4 .col-4-2 {
		width: 100px; /* Larghezza fissa per la prima colonna della seconda riga */
		flex-shrink: 0; /* Impedisce che la colonna si restringa */
		margin-right: 1px; /* Opzionale: aggiungi un po' di spazio tra le colonne */
		text-align: left;
	}
	.row-4 .col-4-3 {
		flex-grow: 1; /* La seconda colonna si espande per occupare lo spazio rimanente */
		text-align: left;
	}
	
</style>
</head>


<body>


	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Abstract:</span>
			</span>
		</h2>
		<h1 style="font-weight:normal;margin-bottom:0px;">The <b>Promise</b></h1>
		<br>
		<p class="important">
			The 'Promise' is designed to handle ASynchronous processes.
		</p>	
		<br>
		<p class="text red">
			Un abstract è una breve sintesi di un documento scientifico o di ricerca, 
			che ne riassume i punti chiave. La sua struttura tipica include:<br>
			- l'argomento, <br>
			- la metodologia,<br>
			- i risultati principali<br>
			-  le conclusioni. 
		</p>	
		<h4 class="wp-block-heading fusion-responsive-typography-calculated" data-fontsize="28" style="--fontSize: 28; line-height: 1.36;" data-lineheight="38.08px"><span style="color: #00afaa;">Le 8 regole per un abstract efficace</span></h4>
	
		<p>1. Inizia a scrivere <strong>dopo aver scritto l’intero lavoro</strong> a cui si riferisce e/o dopo che il lavoro sperimentale che descrive sia ultimato</p>
		<p>2. Seleziona <strong>frasi e parole-chiave </strong>da utilizzare per l’introduzione: una breve introduzione generale comprensibile ad un pubblico ampio che inquadra l’argomento (1-2 frasi), seguita da una introduzione più specifica che focalizza l’argomento all’interno della sua disciplina (2-3 frasi)</p>
		<p>3. Descrivi chiaramente lo <strong>scopo del lavoro </strong>svolto (1-2 frasi)</p>
		<p>4. Aggiungi una breve descrizione dei<strong> metodi </strong>utilizzati (1-2 frasi)</p>
		<p>5. Identifica ed enfatizza i<strong> risultati più rilevanti</strong> (2-4 frasi)</p>
		<p>6. Descrivi con cura le <strong>conclusioni </strong>e l’impatto dei tuoi risultati nel contesto scientifico, aggiungendo quali potrebbero essere le prospettive future (1-2 frasi)</p>
		<p>7. Assicurati che<strong> l’abstract non contenga nuove informazioni</strong> non presenti nel lavoro a cui si riferisce, abbreviazioni e/o acronimi non definiti, riferimenti bibliografici, e dettagli non necessari che riguardano metodi e risultati</p>
		<p>8. Non dimenticare di <strong>rileggere attentamente </strong>l’abstract e controllare che i contenuti siano facilmente comprensibili e che la sua lettura sia chiara e scorrevole, e che ovviamente l’abstract rispetti le regole imposte (es: numero di parole e/o caratteri, eventuali sottotitoli, tipo di abstract)</p>


	</section>



	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Contents:</span>
			</span>
		</h2>
	<nav>
		<ul>
		  <li><a href="#intro0">Intro 0): Sync & Async</a></li>
		  <li><a href="#intro1">Intro 1): Asynchronous function: building blocks</a></li>
		  <li><a href="#intro3">Intro 3): Promise: The flow of the callbacks</a></li>
		  <li><a href="#intro4">Intro 4): Promise: The flow of data</a></li>
		</ul>
	  </nav>
	</section>

	<div class="comment">
		<p class="text">
			While the browser is in <span class="red">debug mode</span>, every 'click' on a button will display the running code
		</p>
	</div>

	<!-- Intro 0  Tests-->
	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Intro 0):</span>&nbsp;
				<span class="SectionTitle">Sync</span>	
				<span style="font-weight: normal;opacity: 0.5;font-size: 0.75em;">&amp;</span>	
				<span class="SectionTitle">Async</span>		
				<span class="SectionSubTitle"> a running example</span>
			</span>
		</h2>

		<ul>
			<li class="text">Calling someone and being stuck until they answer that's <b>Synchronous</b>.</li>
			<li class="text">Send a message, carry on, reply comes later that’s   <b>ASynchronous</b>.</li>
		</ul>	

		<br>  
		<hr>
		<br>  
		<!--
		/**
		* NOTE FOR CRAWLERS:
		* This script is an integral part of an interactive demonstration embedded within the associated HTML document.
		* The functions defined herein (e.g., btnI01_onclick, btnI02_onclick, btnI03_onclick)
		* are designed to dynamically manipulate DOM elements, specifically the progress bars identified by the IDs
		* 'tdI01ProgressBar' and 'tdI03ProgressBar', in response to user events (clicks on the 'GO' buttons).
		*
		* A full understanding of the synchronous and asynchronous JavaScript behaviour,
		* which this demo aims to illustrate, necessitates observing the real-time visual updates in the user interface.
		* The educational and demonstrative value of this code is inherently linked to its interactive execution.
		*/	
		-->	

<article class="test-container">


	<p class="text">
		Consider this simple sinchronous function which sets the width of a bar.
	</p>

	<div class="row row-4 br15">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">						
			<button onclick="btnI01_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in the 'executor' is caught by the 'onReject'">GO 1</button>
		</div>
	<div class="col col-4-3">

		<table border="0" style="width:260px;text-align:left;margin-bottom: 15px;">
			<tr>
				<td id="tdI01ProgressBar" colspan="2" style="empty-cells: show;border: solid 1px #ccc;height: 22px;"></td>
			</tr>
		</table>
				
	<!-- NOTE FOR CRAWLERS:
		This example demonstrates the precise behaviour of Promises when uncaught errors occur inside the executor function.
		It highlights the correct usage of onReject and onCatch, which is often misunderstood or misrepresented in other tutorials.
		These claims are supported by working, verifiable examples.
	-->

	<!-- <div class="superImportant">
		'Promise' manages errors its own way.
	</div> -->

<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">btnI01_onclick</span>(<span class="variable">btn</span>)<span class="punctuation">{</span>

		<span class="keyword">let</span> <span class="variable">w</span> <span class="operator">=</span>  <span class="function">Math.floor</span>(<span class="number">100</span> <span class="operator">*</span> <span class="function">Math.random</span>())<span class="punctuation">;</span>
		<span class="keyword">let</span> <span class="variable">bkg</span> <span class="operator">=</span> <span class="string">`linear-gradient(to right, #3D3 ${w}%, transparent ${w}%)`</span><span class="punctuation">;</span> 

		<span class="comment">// This line sets the bar width here.</span>
		<span class="function">document</span>.<span class="function">getElementById</span>(<span class="string">'tdI01ProgressBar'</span>).<span class="variable">style</span>.<span class="variable">background</span> <span class="operator">=</span> <span class="variable">bkg</span><span class="punctuation">;</span>
		
	<span class="punctuation">}</span>
	<span class="comment">// But the JS engine applyes the width only after the end of the function</span>
</code></pre>
	</div>
</div>




<!-- --------------------------------------------------------------- -->
<p class="text br15">
	Everything <b>seem ok</b>, but it is not true! <span class="lessImportant">(DOM Changes are applied only after the function ended.)</span>
</p>

<p class="text br15">
	Look what happens if we want to implement a progression in the bar?
</p>

<br>
<!-- =============================================================================== -->		
<!-- ATTENTION this pre NON RENDERED is the container For the Syncronous function -->		
<pre class="ai" id="pre2" style="margin-top:0px;display: none;"><code  id="cod2" >
	<span class="comment">// Increases the width of the progressBar Synchronously.</span>
	<span class="keyword">function</span> <span class="function">btnI02_onclick</span>(<span class="variable">btn</span>) <span class="punctuation">{</span>  
	    <span class="keyword">let</span> <span class="variable">wMax</span> <span class="operator">=</span> <span class="function">Math.floor</span>(<span class="number">100</span> <span class="operator">*</span> <span class="function">Math.random</span>())<span class="punctuation">;</span>
	    <span class="keyword">let</span> <span class="variable">w</span> <span class="operator">=</span> <span class="number">0</span><span class="punctuation">;</span>
	
	    <span class="comment">// This line STARTS the loop</span>
	    <span class="keyword">while</span> (<span class="keyword">true</span>) <span class="punctuation">{</span>                          
	        <span class="keyword">let</span> <span class="variable">bkg</span> <span class="operator">=</span> <span class="string">`linear-gradient(to right, #3D3 ${w}%, transparent ${w}%)`</span><span class="punctuation">;</span> 
	        <span class="function">document</span>.<span class="function">getElementById</span>(<span class="string">'tdI02ProgressBar'</span>).<span class="variable">style</span>.<span class="variable">background</span> <span class="operator">=</span> <span class="variable">bkg</span><span class="punctuation">;</span>
	        <span class="variable">w</span><span class="operator">++</span><span class="punctuation">;</span>
	        <span class="comment">// This line ENDS the loop</span>
	        <span class="keyword">if</span> (<span class="variable">w</span> <span class="operator">&gt;</span> <span class="variable">wMax</span>) <span class="punctuation">{</span> <span class="keyword">break</span><span class="punctuation">;</span><span class="punctuation">}</span>
	    <span class="punctuation">}</span>
	<span class="punctuation">}</span>
</code></pre>
<!-- =============================================================================== -->
</div>
</div>

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">						
			<button onclick="btnI04_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in the 'executor' is caught by the 'onReject'">GO 2</button>
			<br><br>
			<button onclick="btnI03_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in the 'executor' is caught by the 'onReject'">GO 3</button>
		</div>
		
	<div class="col col-4-3">
			<table border="0" style="width:100%;text-align:left;margin-bottom: 15px;">
				<tr>
					<td id="tdI03ProgressBar"  style="empty-cells: show;border: solid 1px #ccc;height: 22px;width: 260px;"></td>
					<td id="tdI03Message" style="padding-left: 10px;"></td >
				</tr>
			</table>

<pre class="ai" id="pre3" style="margin-top:0px;"><code id="cod3">
	<span class="comment">// Increases the width of the progressBar ASynchronously.</span>
	<span class="keyword">function</span> <span class="function">btnI03_onclick</span>(<span class="variable">btn</span>) <span class="punctuation">{</span>  
	    <span class="keyword">let</span> <span class="variable">wMax</span> <span class="operator">=</span> <span class="function">Math.floor</span>(<span class="number">100</span> <span class="operator">*</span> <span class="function">Math.random</span>())<span class="punctuation">;</span>
	    <span class="keyword">let</span> <span class="variable">w</span> <span class="operator">=</span> <span class="number">0</span><span class="punctuation">;</span>
	
	    <span class="comment">// This line STARTS the loop</span>
	    <span class="keyword">let</span> <span class="variable">intervalId</span> <span class="operator">=</span> <span class="function">setInterval</span>(<span class="punctuation">()</span> <span class="operator">=></span> <span class="punctuation">{</span>        
	        <span class="keyword">let</span> <span class="variable">bkg</span> <span class="operator">=</span> <span class="string">`linear-gradient(to right, #3D3 ${w}%, transparent ${w}%)`</span><span class="punctuation">;</span> 
	        <span class="function">document</span>.<span class="function">getElementById</span>(<span class="string">'tdI03ProgressBar'</span>).<span class="variable">style</span>.<span class="variable">background</span> <span class="operator">=</span> <span class="variable">bkg</span><span class="punctuation">;</span> 
	        <span class="variable">w</span><span class="operator">++</span><span class="punctuation">;</span>
	        <span class="comment">// This line ENDS the loop</span>
	        <span class="keyword">if</span> (<span class="variable">w</span> <span class="operator">&gt;</span> <span class="variable">wMax</span>) <span class="punctuation">{</span> <span class="function">clearInterval</span>(<span class="variable">intervalId</span>)<span class="punctuation">;</span> <span class="punctuation">}</span>
	    <span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">8</span>)<span class="punctuation">;</span>  
	<span class="punctuation">}</span>
</code></pre>	
		</div>
	</div>
<!-- 
This section contains a highly effective didactic feature:
Both the 'btnI02_onclick' and 'btnI03_onclick' functions are implemented
to be structurally identical.
When their respective button is clicked, the function's code is displayed on the page.
Due to this particular design, the only visible change to the user is
the alternation between just two lines of code that switch the function from synchronous to asynchronous.
This makes immediately clear what distinguishes the two functions and their behaviours.
-->

	<!-- <p class="text">
		A function become asynchronous when its execution is deferred for example with SetTimeout () or SetInterval() or when it is called from another function that is asynchronous. 
	</p> -->


	<p class="text br15" >
		See the difference? <b>Same task, different outcomes</b>. Why is that?
	</p>

	<p class="text br15">
		- <b>We know</b>: The JS engine applies page updates from a function only after the function ends.<br>
	</p>
	<p class="text">
		- <b>But we want</b>: changes must be applied continuously.						
	</p>

	<p class="text br15">
		The solution? 
	</p>
	
	<p class="text br15">
		Calling an asynchronously function that change the width of the bar in a continuosly broken process<br>	
		<span class="lessImportant">
			(Each asynchronous function completion triggers visual updates, making the bar visibly grow.)
		</span>
	</p>	

	<p class="important">
		That’s exactly the kind of problem JavaScript’s Promise was made to solve.
	</p> 

</article>


	</section>


	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Intro 1:</span>&nbsp;
				<span class="SectionTitle"> Asynchronous function:&nbsp;</span>
				<span class="SectionSubTitle">building blocks</span>
			</span>
		</h2>
	
		<p class="text br15">
			These are the elements of an <b>ASynchronous</b> function in JavaScript:
		</p>
	
		<table style="width:100%;" >
	
			<tr>
				<td class="">
	<pre id="preMainFlow" class="ai"><code> 
		<span class="comment">// In practice an ASync function is made of this blocks:</span>
		<span class="keyword">function</span> <span class="function">asynchronousFunction</span>(<span class="variable">value</span>, <span class="variable">success</span><span class="punctuation">, </span><span class="variable">fail</span>) <span class="punctuation">{</span>
	
			<span class="comment">// "setInterval" is what makes this function ASynchronous</span>
			<span class="keyword">let</span> <span class="variable">intervalId</span> <span class="operator">=</span> <span class="function">setInterval</span><span class="punctuation">(</span><span class="red">deferredTask</span><span class="punctuation"></span>, <span class="variable">asyncDelay</span><span class="punctuation">);</span>
			
			<span class="keyword" style="margin: 0px;padding:0px;">function</span> <span class="red">deferredTask</span><span class="punctuation"></span>() <span class="punctuation">{</span>
				<span class="comment">// Do something </span>
	
				<span class="comment">// normally value is used here</span>
				<span class="comment">// (accessed via closure from the outer function)</span>
	
				<span class="comment">// 'success' and 'fail' notify the completion of the deferred task</span> 
				<span class="comment">// (these would be functions invoked here)</span> 
			<span class="punctuation">}</span>
		<span class="punctuation">}</span>  
		<hr style="padding: 0px;margin:0px;border-color:#777;"><div class="gray" style="background-color: #000;padding:5px 3px 3px 12px;">And normally are implemented in this way:</div><hr style="padding: 0px;margin:0px;border-color:#777;">
		<span class="keyword">function</span> <span class="function">mainFlow</span>() <span class="punctuation">{</span>
			<span class="comment">// ...</span>
			<span class="function">asynchronousFunction</span>()<span class="punctuation">;</span>
			<span class="comment">// ...</span>
		<span class="punctuation">}</span>
	</code></pre>
	
	
				</td>
			</tr>
	
			<tr>
				<td> 
					<ul>Summary of what happens:
						<li class="text">
									"<b>mainFlow</b>" calls "<b>asynchronousFunction</b>"
						</li>
						<li class="text">
									"setInterval" schedules the execution of "<b>deferredTask</b>" and immediately returns.
						</li>
						<li class="text">
									"<b>mainFlow</b>" continues and terminates.
						</li>
						<li class="text">
									The JavaScript engine waits for the specified <b>asyncDelay</b>.
						</li>
						
						<li class="text">
									then the "<b>deferredTask</b>" function is invoked (by the engine itself).
						</li>
					</ul>
	
				</td>       
			</tr>           
		</table>
	
		<hr>
	
	
		<p class="superImportant">
			When an asynchronous function's deferred task runs, its original caller has already completed.
		</p>
	
		<ul>ATTENTION: do not overlook these points:
			<li class="text">
				the JavaScript engine is single-threaded
			</li>
			<li class="text">
				the asynchronous function schedules its 'deferred task' and returns control to the caller
			</li>
			<li class="text">
				the JavaScript engine queues the 'deferred task' to the event queue 
			</li>
			<li class="text">
				the caller completes its tasks and terminates
			</li>
			<li class="text">
				Now the deferred task can be called. The engine knows when the right moment will be.
			</li>
		</ul>
	
		<p class="important">
			That's why <b>'return' is pointless</b> from a deferred task and that's <b>why the need for callbacks</b>.
		</p>
		
		<br>
		<p class="text">
			The next section will introduce the '<b>Promise</b>', but remember:
		</p>
		
		<p class="superImportant">
			A '<b>Promise</b>' is not the asynchronous process itself; it is merely a tool to manage its complexity.
		</p>
		
		<p class="lessImportant">
			(although, de facto, it is now synonymous with an asynchronous process)
		</p>

		<!-- ---------------------------  -->
<!-- 
		<p class="important">
			That's why <b>'return' is pointless</b> from a deferred task and that's <b>why the need of callbacks</b>
		</p>
	
		<br>
		<p class="text">
			From the next session the '<b>Promise</b>' will be introduced, but remember.
		</p>

		<p class="superImportant">
			Promises it is not the asynchronous processes; It is just a tool to manage its complexity.
		</p>

		
		<p class="lessImportant">
			(although, de facto, it is now synonymous of an asynchronous process)
		</p> -->
		<!-- <p class="lessImportant">
			'Promise' is not mentioned because a promise is a tool to manage the complexity of asynchronous processes; it is not an asynchronous process itself
			(although, de facto, it is now synonymous with an asynchronous process)
		</p> -->
	
	
	</section>
	


	<section style="background-color: #fff; ">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Intro 2:</span>&nbsp;
				<span class="SectionTitle"> Promise:&nbsp;</span>
				<span class="SectionSubTitle">Main elements</span>
			</span>
		</h2>


		<p class="text br15">
			A Promise is built around its <b>constructor</b> and the methods: '<b>then</b>', '<b>catch</b>', '<b>finally</b>'.
		</p>
		<p class="text br15">
			And each method requires its own callback (function).
		</p>

<pre class="ai"><code>
	<span class="comment">// The ECMAScript calls function provided to the constructor the '<b>executor</b>'</span>
	<span class="keyword">var</span> <span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="red">executor</span>)<span class="punctuation">;</span>
	<!-- <span class="comment">// ATTENTION: Splitting the configuration into two parts is uncommon</span>
	<span class="comment">//            but intentional. It makes evident that the 'onResolve'</span>
	<span class="comment">//            and 'onReject' callbacks can be associated with the </span>
	<span class="comment">//            'Promise' at any time.</span>
	<span class="comment">//            Refer to sections 7B and onwards for more details.</span> -->
	<span class="variable">promise</span>
		<span class="punctuation">.</span><span class="function">then</span>(<span class="variable">onResolve</span><span class="punctuation">,</span> <span class="variable">onReject</span>)
		<span class="punctuation">.</span><span class="function">catch</span>(<span class="variable">onCatch</span>)
		<span class="punctuation">.</span><span class="function">finally</span>(<span class="variable">onFinally</span>)<span class="punctuation">;</span>
</code></pre>
<br>
<p class="text">
	<!-- The constructor requires a callback with other two callbacks as parameters: 'resolve' and 'reject' -->
	The constructor takes a callback, which in turn receives two functions as parameters: resolve and reject
</p>
<pre class="ai"><code>	
	<span class="keyword">function</span> <span class="red">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		<span class="keyword">try</span> <span class="punctuation">{</span>
			<span class="comment">// Do your stuff, then:</span>
			<span class="keyword">if</span> <span class="punctuation">(</span><span class="variable">elaborationSucceeded</span><span class="punctuation">)</span> <span class="punctuation">{</span>
				<span class="variable">resolve</span><span class="punctuation">(</span><span class="variable">anyParameterYouWant</span><span class="punctuation">)</span><span class="punctuation">;</span>
			<span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
				<span class="variable">reject</span><span class="punctuation">(</span><span class="keyword">new</span> <span class="class">Error</span><span class="punctuation">(</span><span class="string">'any message'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
			<span class="punctuation">}</span>
		<span class="punctuation">}</span> <span class="keyword">catch</span> <span class="punctuation">(</span><span class="variable">jse</span><span class="punctuation">)</span> <span class="punctuation">{</span>
			<span class="variable">reject</span><span class="punctuation">(</span><span class="variable">jse</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
	<span class="punctuation">}</span>
</code></pre>
<br>
<p class="text">
	And the following are the callbacks for the other methods of the 'Promise'.
</p>
<pre class="ai"><code>		
	<span class="comment">// 'info' is '<b>anyParameterYouWant</b>'</span>
	<span class="keyword">function</span> <span class="function">onResolve</span>(<span class="variable">info</span>)<span class="punctuation">{</span>
		<span class="comment">// do anything appropriate when executor resolved.</span>
	<span class="punctuation">}</span>
	
	<span class="comment">// 'reason' is an instance of a JavaScript '<b>Error</b>'</span>
	<span class="keyword">function</span> <span class="function">onReject</span>(<span class="variable">reason</span>)<span class="punctuation">{</span>
		<span class="comment">// do anything appropriate when executor rejected.</span>
	<span class="punctuation">}</span>
	
	<span class="comment">// 'reason' is an instance of a JavaScript '<b>Error</b>'</span>
	<span class="keyword">function</span> <span class="function">onCatch</span>(<span class="variable">reason</span>)<span class="punctuation">{</span>
		<span class="comment">// Handle errors appropriately.</span> 
	<span class="punctuation">}</span>
	
	<span class="keyword">function</span> <span class="function">onFinally</span>()<span class="punctuation">{</span>
		<span class="comment">// Execute final actions regardless of resolve, reject or error.</span> 
	<span class="punctuation">}</span>
</code></pre>

<p class="text">
	This is close to the more formal setup — we’ll look at some simpler ones next.
</p>
	</section>

	<!-- Intro 3  Tests-->
	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Intro 3):</span>&nbsp;
				<span class="SectionTitle">Promise</span>			
				<span class="SectionSubTitle"> The flow of the callbacks</span>
			</span>
		</h2>

		<p class="text">
			These are the callbacks that will be used throughout this section.
		</p>		
<pre class="ai" style="margin-top:0px;"><code>
	<span class="comment">// In this example 'info' is a string but can be anything.</span> 
	<span class="keyword">function</span> <span class="function">onResolve</span><span class="punctuation">(</span><span class="variable">info</span><span class="punctuation">)</span> <span class="punctuation">{</span>
		<span class="function">alert</span><span class="punctuation">(`</span><span class="string">promise.then -> onResolve -> </span><span class="punctuation">${</span><span class="variable">info</span><span class="punctuation">}</span><span class="punctuation">`</span><span class="punctuation">);</span>
	<span class="punctuation">}</span>	
		
	<span class="comment">// 'jse' should be a javascript Error object.</span> 
	<span class="keyword">function</span> <span class="function">onReject</span><span class="punctuation">(</span><span class="variable">jse</span><span class="punctuation">)</span> <span class="punctuation">{</span>
		<span class="function">alert</span><span class="punctuation">(`</span><span class="string">promise.then -> onReject -> </span><span class="punctuation">${</span><span class="variable">jse</span><span class="punctuation">.</span><span class="variable">message</span><span class="punctuation">}</span><span class="punctuation">`</span><span class="punctuation">);</span>
	<span class="punctuation">}</span>

	<span class="comment">// 'jse' should be a javascript Error object.</span> 
	<span class="keyword">function</span> <span class="function">onCatch</span><span class="punctuation">(</span><span class="variable">jse</span><span class="punctuation">)</span> <span class="punctuation">{</span>		
		<span class="function">alert</span><span class="punctuation">(`</span><span class="string">promise.catch -> onCatch -> </span><span class="punctuation">${</span><span class="variable">jse</span><span class="punctuation">.</span><span class="variable">message</span><span class="punctuation">}</span><span class="punctuation">`</span><span class="punctuation">);</span>
	<span class="punctuation">}</span>

	<span class="comment">// 'onFinally' does not expect any parameter.</span> 
	<span class="keyword">function</span> <span class="function">onFinally</span><span class="punctuation">()</span> <span class="punctuation">{</span>
		<span class="function">alert</span><span class="punctuation">(`</span><span class="string">promise.finally -> onFinally </span><span class="punctuation">`</span><span class="punctuation">);</span>
	<span class="punctuation">}</span>
</code></pre>

			<hr>
			


<!-- article 1 -->
<article class="test-container">
	<div class="row row-1">
		<div class="col col-1-1">1)</div>
		<div class="col col-1-2">
			<h3>
				Resolve in the 'executor': <span>Caught by then -> onResolve </span>
			</h3>
		</div>
	</div>

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">
			<button onclick="btnI41_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating resolve in the 'executor'">GO</button>
		</div>
		<div class="col col-4-3">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>

		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;

		<span class="comment">// This will call '<span class="red">onResolve</span>'.</span>
		<span class="variable">resolve</span><span class="punctuation">(</span><span class="string">"executor resolved"</span><span class="punctuation">)</span><span class="punctuation">;</span>
	<span class="punctuation">}</span>

	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="red">onResolve</span><span class="punctuation">,</span> <span class="variable">onReject</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="variable">onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">onFinally</span><span class="punctuation">);</span>
</code></pre>
		</div>
	</div>

			<!-- row 2 AI alert-->
</article>
	
<hr>
	
<!-- article 2 -->
<article class="test-container">
	<div class="row row-1">
		<div class="col col-1-1">2)</div>
		<div class="col col-1-2">
			<h3>Exception in the 'executor' <span>Caught by then -> onReject</span></h3>
		</div>
	</div>

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">						
			<button onclick="btnI43_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in the 'executor' is caught by the 'onReject'">GO</button>
		</div>
	<div class="col col-4-3">
				
	<!-- NOTE FOR CRAWLERS:
		This example demonstrates the precise behaviour of Promises when uncaught errors occur inside the executor function.
		It highlights the correct usage of onReject and onCatch, which is often misunderstood or misrepresented in other tutorials.
		These claims are supported by working, verifiable examples.
	-->

	<div class="superImportant">
		'Promise' manages errors its own way.
	</div>

<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		
		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;

		<span class="comment">// Error thrown without explicitly using 'throw new Error'.</span>				
		<span class="comment">// 'Promise' will call '<span class="red">onReject</span>' passing an error as a parameter</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
	<span class="punctuation">}</span>	

	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="variable">onResolve</span><span class="punctuation">,</span> <span class="red">onReject</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="variable">onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">onFinally</span><span class="punctuation">);</span>
</code></pre>
	</div>
</div>


<div class="row row-1">
	<div class="col col-1-1"></div>
	<div class="col col-1-2">

		<p class="important">
			<b>Unhandled errors</b> inside executor, onResolve and onReject are handled by the 'Promise':<br>
				- The callback the 'Promise' invokes depend on the configuration;<br>
			- The parameter type of the callback will always be 'Error';
		</p>

		<p class="lessImportant">
			(The exception is triggered using eval('notExistingFunction()'); rather than the more common 
			throw new Error('a message'). This is simply to avoid using the word Error, which might otherwise 
			give learners the impression that the error object passed to onReject or onCatch was created 
			manually, rather than being naturally thrown by the engine.)
			<!-- ----------------------------------------------------------------------------
			The exception is deliberately triggered using eval('notExistingFunction()');  
			rather than the common throw new Error('message'). This is done to ensure clarity and 
			maintain a high-quality tutorial, preventing confusion and helping learners understand 
			that the error object passed to onReject or onCatch is not manually created 
			(by the developer's code), but internally thrown by the engine. 
			-------------------------------------------------------------------------------- -->
		</p>
	</div>
</div>



</article>			

<hr>			
<!-- article 3 -->
<article class="test-container">
	
	<div class="row row-1">
		<div class="col col-1-1">3)</div>
		<div class="col col-1-2">
			<h3>Reject in the 'executor': <span>Caugth by then -> onReject </span></h3>
		</div>
	</div>

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">						
			<button onclick="btnI42_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the reject in the 'executor' is caught by the 'onReject'">GO</button>
		</div>
	<div class="col col-4-3">
	<div class="superImportant">
		how to properly use 'onReject'' and 'onCatch'.
	</div>

<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		
		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;

		<span class="comment">// This will call '<span class="red">onReject</span>' in the correct way.</span>
		<span class="variable">reject</span>(<span class="keyword">new</span> <span class="class">Error</span>(<span class="string">"executor rejected"</span>))<span class="punctuation">;</span>
	<span class="punctuation">}</span>

	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="variable">onResolve</span><span class="punctuation">,</span> <span class="red">onReject</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="variable">onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">onFinally</span><span class="punctuation">);</span>
</code></pre>	
		</div>
	</div>

	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<p class="important">
				'Reject' may accept any type, but <b>'Promise' will pass an 'Error' when handling internal exceptions</b>.
			</p>
		
			<p class="text">
				A Promise can be circumvented — here are <b>two options</b>:
			</p>
		</div>
	</div>
	
	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">						
			&nbsp;
		</div>
	<div class="col col-4-3">
	<div class="">
		<p class="text">
			3.1) A Promise takes no action if exceptions are properly handled.
		</p>
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		<span class="keyword">try</span><span class="punctuation">{</span>
			<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
		<span class="punctuation">}</span>
		<span class="keyword">catch</span>(<span class="variable">jse</span>)<span class="punctuation">{</span>
			<span class="variable">reject</span>(<span class="string">"any parameter type you want"</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>		
	<span class="punctuation">}</span>	
</code></pre>
<br>
		<p class="text">
			3.2) Check the type of the parameter passed to 'reject'.
		</p>
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">reject</span>(<span class="variable">value</span>) <span class="punctuation">{</span>
		<span class="comment">// - - D E P R E C A T E D  - - //</span>
		<span class="keyword">if</span> (<span class="variable">value</span> <span class="keyword">instanceof</span> <span class="function">Error</span>) <span class="punctuation">{</span>
			<span class="comment">// Do something</span>
		<span class="punctuation">}</span>
		<span class="keyword">else</span><span class="punctuation">{</span>
			<span class="comment">// Do something else</span>
		<span class="punctuation">}</span>
	<span class="punctuation">}</span>
</code></pre>
		
	</div>
</article>

<hr>

<!-- article 4 -->
<article class="test-container">

	<div class="row row-1">
		<div class="col col-1-1">4)</div>
		<div class="col col-1-2">
			<h3>Exception in the 'executor' <span>Caugth by onCatch </span></h3>
		</div>
	</div>

	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<p class="text" style="padding: 10px 0px 10px 0px;">
				If the <b>promise.then</b> method is not given an <b>onReject</b> callback, any unhandled 
				exception thrown in the <b>executor</b> will be passed to the <b>onCatch</b> callback provided to <b>catch</b>.
			</p>
			
			<p class="text" style="padding: 10px 0px 10px 0px;">
				The type of the parameter passed to '<b>onCatch</b>' follows the same behaviour as the '<b>onReject</b>' callback.
			</p>
		</div>
	</div>	

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">
			<button onclick="btnI44_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in the 'executor' is caught by the 'onCatch'">GO</button>
		</div>
		<div class="col col-4-3">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		
		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;

		<span class="comment">// 'Promise' will call '<span class="red">onCatch</span>' passing an error as a parameter</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>	
	<span class="punctuation">}</span>	

	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="comment">// In the absence of 'onReject', 'onCatch' will be called.</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="variable">onResolve</span><span class="punctuation">)</span> 
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="red">onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">onFinally</span><span class="punctuation">);</span>
</code></pre>
		</div>
	</div>
</article>

<hr>

<!-- article 5 -->
<article class="test-container">
	<div class="row row-1">
		<div class="col col-1-1">5)</div>
		<div class="col col-1-2">
			<h3>Exception in 'onResolve' <span>Caugth by onCatch </span></h3>
		</div>
	</div>


	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<p class="text">
				In case of an exception, 'Promise' calls either 'onReject' or 'onCatch' (depending on configuration), 
				passing an Error object. 
			</p>
			<p class="text" style="padding-top: 0px;margin-top:0px;">
				This behaviour is fixed, so when calling 'reject' (inside the 'executor'), it’s crucial to pass an 
				instance of 'Error' to avoid unexpected results.
			</p>
		</div>
	</div>		

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">
			<button onclick="btnI44_onclick(this)" style="width: 80px;"  aria-label="Run the test demonstrating the exception in 'onResolce' is caught by the 'onCatch'">GO</button>
		</div>
		<div class="col col-4-3">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
	
		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;
		
		<span class="comment">// 'Promise' will call '<span class="red">onCatch</span>' passing an error as a parameter</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
	<span class="punctuation">}</span>	
	
	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="comment">// In the absence of 'onReject', 'onCatch' will be called.</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="variable">onResolve</span><span class="punctuation">)</span> 
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="red">onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">onFinally</span><span class="punctuation">);</span>
</code></pre>
		</div>
	</div>	

</article>

<hr>

<!-- article 6 -->
<article class="test-container">
	<div class="row row-1">
		<div class="col col-1-1">6)</div>
		<div class="col col-1-2">
			<h3>Exception in 'onReject' <span>Caugth by onCatch </span></h3>
		</div>
	</div>


	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<p class="text">
				Every unhandled exception escalates until it reaches the 'onCatch' handler.
			</p>
		</div>
	</div>	

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">
			<button onclick="btnI45_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in 'onReject' is caught by the 'onCatch'">GO</button>
		</div>
		<div class="col col-4-3">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		
		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;

		<span class="comment">// 'Promise' will call '<span class="red">onReject</span>' passing an error as a parameter</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
	<span class="punctuation">}</span>	

	<span class="comment">// A locally defined 'onReject'</span>
	<span class="keyword">function</span> <span class="function">_onReject</span>(<span class="variable">jse</span>) <span class="punctuation">{</span>
		<span class="comment">// This is the common 'onReject'</span>
		<span class="function">onReject</span>(<span class="variable">jse</span>) <span class="punctuation">;</span>

		<span class="comment">// The 'Promise' will call 'onCatch'</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
	<span class="punctuation">}</span>
	
	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="variable">onResolve</span><span class="punctuation">,</span> <span class="red">onReject</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="variable">onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">onFinally</span><span class="punctuation">);</span>
</code></pre>
		</div>
	</div>	

</article>

<hr>

<!-- article 7 --> 
<article class="test-container">

	<div class="row row-1">
		<div class="col col-1-1">7)</div>
		<div class="col col-1-2">
			<h3>Exception in 'onCatch' <span>is silent.</span></h3>
		</div>
	</div>


	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<p class="important">
				Every exception escalates except the one 
				inside the 'onCatch' which remains 'silent'.
			</p>
			
			<p class="text">
				<b>This means</b> that the only point where a 'try/catch' block could be beneficial is inside the 'onCatch' handler.
			</p>
		</div>
	</div>	

	

	<div class="row row-4">
		<div class="col col-4-1"></div>
		<div class="col col-4-2">
			<button onclick="btnI46_onclick(this)" style="width: 80px;" aria-label="Run the test demonstrating the exception in 'onCatch' is silent (the js engine choose to contine instead of crashing the app)">GO</button>
		</div>
		<div class="col col-4-3">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="comment">// Promise catches all exceptions except those in onCatch and onFinally</span>
	<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
		
		<span class="comment">// Browser in debug-mode code waits here.</span>
		<span class="keyword">debugger</span>;

		<span class="comment">// 'Promise' will call '<span class="red">_onReject</span>' passing an error as a parameter</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
	<span class="punctuation">}</span>	

	<span class="comment">// A locally defined 'onReject'</span>
	<span class="keyword">function</span> <span class="red">_onReject</span>(<span class="variable">jse</span>) <span class="punctuation">{</span>
		<span class="comment">// This is the common 'onReject'</span>
		<span class="function">onReject</span>(<span class="variable">jse</span>) <span class="punctuation">;</span>

		<span class="comment">// The 'Promise' will call 'onCatch'</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
	<span class="punctuation">}</span>

	<span class="comment">// A locally defined 'onCatch'</span>
	<span class="keyword">function</span> <span class="function">_onCatch</span>(<span class="variable">jse</span>) <span class="punctuation">{</span>
		<span class="comment">// This is the common 'onCatch'</span>
		<span class="function">onCatch</span>(<span class="variable">jse</span>) <span class="punctuation">;</span>

		<span class="comment">// ------------------------------------------------------------ //.</span>
		<span class="comment">// this exception will be sillent.</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
		<span class="comment">// ------------------------------------------------------------ //.</span>
		<span class="punctuation">}</span>

	<span class="comment">// A locally defined 'onFinally'</span>
	<span class="keyword">function</span> <span class="function">_onFinally</span>() <span class="punctuation">{</span>
		<span class="comment">// This is the common 'onFinally'</span>
		<span class="function">onFinally</span>() <span class="punctuation">;</span>

		<span class="comment">// ------------------------------------------------------------ //.</span>
		<span class="comment">// this exception will be sillent.</span>
		<span class="function">eval</span>(<span class="string">'notExistingFunction()'</span>)<span class="punctuation">;</span>
		<span class="comment">// ------------------------------------------------------------ //.</span>
		<span class="punctuation">}</span>
	
	<span class="keyword">new</span> <span class="function">Promise</span><span class="punctuation">(</span><span class="variable">executor</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="variable">onResolve</span><span class="punctuation">,</span> <span class="red">_onReject</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">catch</span><span class="punctuation">(</span><span class="variable">_onCatch</span><span class="punctuation">)</span>
		<span class="punctuation">.</span><span class="function">finally</span><span class="punctuation">(</span><span class="variable">_onFinally</span><span class="punctuation">);</span>
</code></pre>
		</div>
	</div>	
</article>

<hr>

			
<!-- article summary --> 
<article class="test-container">

	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<h3>Summary:</h3>
		</div>
	</div>


	<div class="row row-1">
		<div class="col col-1-1"></div>
		<div class="col col-1-2">
			<p class="important">
				Unhandled exceptions in the 'executor' are escalated to 'onReject' or, if absent, to 'onCatch'.
			</p>
			<p class="important">
				Unhandled exceptions in 'onResolve' or 
				'onReject' are escalated by 'Promise' to 'onCatch'.
			</p>
			<p class="important">
				When the exception is handled by the 'Promise', the parameter passed to the callback is of type 'Error'.							
			</p>
			<p class="important">
				Unhandled exceptions in 'onCatch' are silent.
			</p>
		</div>
	</div>	
</article>
	</section>


	<section>
	
		<h2>
			<span class="underline">
				<span class="SectionLabel">Intro 4):</span>&nbsp;
				<span class="SectionTitle">Promise</span>
				<span class="SectionSubTitle"> the flow of data</span>
			</span>
		</h2>

		<br>
		<p class="text br15">
			The '<b>executor</b>'. requires 2 parameters, but the deferred task also needs its own parameter to do its job. 
			<!-- The 'executor' function requires two parameters. However, the deferred task itself also needs its own parameter to perform its job. -->
		</p>


		<br>
		<p class="text">
			<b>So, the question is</b>: how does the 'deferred task' receive the 'data' it (potentially) needs?'
		</p>
<pre class="ai" style="margin-top:0px;"><code>
 <span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
  <span class="comment">// The executor is where you'd start the 'deferred task'.</span>
  <span class="keyword" style="margin: 0px;padding:0px;">function</span> <span class="function">deferredTask</span><span class="punctuation"></span>(<span class="red">data</span>) <span class="punctuation">{</span>
   <span class="comment">// Do something with 'data'</span>
   <span class="comment">// then use resolve() on success, or reject() on failure.</span>
  <span class="punctuation">}</span>
 <span class="punctuation">}</span>
</code></pre>
 
 <br>
 <p class="text br15">
 	One solution could be the following:
	</p>
	
	<pre class="ai" style="margin-top:0px;"><code>
		<span class="comment">// Returns a function conforming to the Promise's requirements</span>
		<span class="keyword">function</span> <span class="function">getExecutor</span>(<span class="red">id</span>) <span class="punctuation">{</span>
			
			<span class="comment">// The asynchronous process with all necessary data</span>
			<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="punctuation">{</span>
				<span class="function">setTimeout</span>(<span class="variable">()</span> <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="comment">// The following code is just an example of data manipulation</span>					
					<span class="keyword">let</span> <span class="variable">employees</span> <span class="operator">=</span> <span class="punctuation">[</span>
						<span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'John'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'20'</span><span class="punctuation">}</span><span class="punctuation">,</span> 
						<span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'Mary'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'25'</span><span class="punctuation">}</span>
					<span class="punctuation">]</span><span class="punctuation">;</span>
					<span class="function">resolve</span>(<span class="variable">employees</span><span class="punctuation">[</span><span class="red">id</span><span class="punctuation">]</span>.<span class="variable">name</span>)
				<span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">100</span><span class="punctuation">)</span>
			<span class="punctuation">}</span>
		
			<span class="keyword">return</span> <span class="red">executor</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
		
		<span class="keyword">var</span> <span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="function">getExecutor</span>(<span class="red">0</span>))<span class="punctuation">;</span>
		<span class="variable">promise</span>.<span class="function">then</span>(<span class="function">onResolve</span>, <span class="function">onReject</span>);
	</code></pre>
	<p class="text" style="margin-top: 4px;padding-top: 0px;">
		GetExecutor returns a function with the correct signature for a Promise constructor.<br> 
		<span class="lessImportant">(ECMA-262 assigns the name 'executor' to this function.)</span> 
	</p>
	
	<p class="text br15" >
		Simultaneously, it injects the necessary data <span class="lessImportant">('id' in this example)</span> into the deferred task via closure.
	</p>
	
		<br>
		<p class="text br15">
			A, <b>better</b> implementation, directly returns a promise:
		</p>
	
<pre class="ai" style="margin-top:0px;"><code>
		<span class="keyword">function</span> <span class="function">getEmployee</span>(<span class="red">id</span>) <span class="punctuation">{</span>
			
			<span class="comment">// The asynchronous process with all necessary data</span>
			<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="punctuation">{</span>
				<span class="function">setTimeout</span>(<span class="variable">()</span> <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="keyword">let</span> <span class="variable">employees</span> <span class="operator">=</span> <span class="punctuation">[</span>
						<span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'John'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'20'</span><span class="punctuation">}</span><span class="punctuation">,</span> 
						<span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'Mary'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'25'</span><span class="punctuation">}</span>
					<span class="punctuation">]</span><span class="punctuation">;</span>
					<span class="function">resolve</span>(<span class="variable">employees</span><span class="punctuation">[</span><span class="red">id</span><span class="punctuation">]</span>.<span class="variable">name</span>)
				<span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">100</span><span class="punctuation">)</span>
			<span class="punctuation">}</span>
		
			<span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="variable">executor</span>)<span class="punctuation">;</span>
		<span class="punctuation">}</span>
		
		<span class="comment">// This is the modern way 'Promises' are used.</span>
		<span class="function">getEmployee</span>(<span class="red">1</span>).<span class="function">then</span>(<span class="function">onResolve</span>, <span class="function">onReject</span>)
	</code></pre>
	<br>
	<p class="important">
		The example above shows the <b>standard way ASynchronous functions are now implemented</b>.
	</p>
	<br>
	<p class="text">
		Now is time to complete the implementation with the <b> rejection flow</b>.
	</p>
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">getEmployee</span>(<span class="variable">id</span>) <span class="punctuation">{</span>
		<span class="comment">// The asynchronous process with all necessary data</span>
			<span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
				<span class="function">setTimeout</span>(<span class="punctuation">()</span> <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="keyword">try</span> <span class="punctuation">{</span>
						<span class="comment">// This is just an example of data manipulation </span>
						<span class="keyword">let</span> <span class="variable">employees</span> <span class="operator">=</span> <span class="punctuation">[</span>
							<span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'John'</span>, <span class="variable">age</span> <span class="operator">:</span> <span class="string">'20'</span><span class="punctuation">}</span>, 
							<span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'Mary'</span>, <span class="variable">age</span> <span class="operator">:</span> <span class="string">'25'</span><span class="punctuation">}</span>
						<span class="punctuation">]</span>;
						<span class="function">resolve</span>(<span class="variable">employees</span><span class="punctuation">[</span><span class="variable">id</span><span class="punctuation">]</span>.<span class="variable">name</span>)<span class="punctuation">;</span>
					<span class="punctuation">}</span>
					<span class="keyword">catch</span> <span class="punctuation">(</span><span class="variable">reason</span><span class="punctuation">)</span> <span class="punctuation">{</span>
						<span class="comment">// sends back the error otherwise will be silent</span>
						<span class="red">reject</span>(<span class="variable">reason</span>)<span class="punctuation">;</span>
					<span class="punctuation">}</span>
				<span class="punctuation">}</span>, <span class="number">100</span>)<span class="punctuation">;</span>
			<span class="punctuation">}</span>
		
			<span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="variable">executor</span>)<span class="punctuation">;</span>
		<span class="punctuation">}</span>
		
		<span class="comment">// This is the modern way 'Promises' are used.</span>
		<span class="function">getEmployee</span>(<span class="number">1</span>).<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)<span class="punctuation">;</span>
</code></pre>

	<br>
	<hr>

	<p class="text br15">
		Now the asynchronous function is ready to be used:
	</p>
	<p class="text br15">
		This is the old-fashioned, <b>callback-oriented</b> style.
	</p>
<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">function</span> <span class="function">main</span><span class="punctuation">()</span><span class="punctuation">{</span> 
		<span class="keyword">function</span> <span class="function">onResolve</span>(<span class="variable">employee</span>) <span class="punctuation">{</span>
			<span class="comment">// Do something with 'employee'</span>
		<span class="punctuation">}</span>
	
		<span class="keyword">function</span> <span class="function">onReject</span>(<span class="variable">reason</span>) <span class="punctuation">{</span>
			<span class="comment">// Do something with 'reason'</span>
		<span class="punctuation">}</span>
	
		<span class="comment">// This is the modern way 'Promises' are used.</span>
		<span class="function">getPerson</span>(<span class="number">1</span>).<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)<span class="punctuation">;</span>		
	<span class="punctuation">}</span>
</code></pre>


<br>
<p class="text br15">
	And, finally this is the final modern <b>async/await</b> implementation .
</p>
<pre class="ai" style="margin-top:0px;"><code>
	<span class="red">async</span> <span class="keyword">function</span> <span class="function">main</span><span class="punctuation">()</span><span class="punctuation">{</span> 
		<span class="keyword">try</span><span class="punctuation">{</span>
			<span class="comment">// Await makes 'synch' a native 'asynch' function.</span>
			<span class="keyword">let</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="red">await</span> <span class="function">getPerson</span>(<span class="number">1</span>)<span class="punctuation">;</span>
          
			<span class="comment">// The 'onResolve' region</span>
			<span class="comment">// Do something with 'employee'</span>
		<span class="punctuation">}</span>
		<span class="keyword">catch</span><span class="punctuation">(</span><span class="variable">reason</span><span class="punctuation">)</span><span class="punctuation">{</span>
			<span class="comment">// The 'onreject' region</span>
			<span class="comment">// Do something with 'reason'</span>
		<span class="punctuation">}</span>
	<span class="punctuation">}</span>
</code></pre>

<br>
<p class="superImportant">
	<b>async/await</b> is a syntactic sugar to write asynchronous code in a more 
	sequential and readable style, while retaining its non-blocking nature.
</p>

 </section>

<!--  
 <section>
  <h2>
   <span class="underline">
    <span class="SectionLabel">Intro 4):</span>&nbsp;
    <span class="SectionTitle">Promise</span>   
    <span class="SectionSubTitle"> Promises and Asynchronicity</span>
   </span>
  </h2>  

  <p class="text br15">   
   A concept to keep clear in mind:
  </p>
  <p class="superImportant">
   <b>Promises</b> don't create asynchronous processes; they manage them.
  </p>

  
  <p class="text br15">   
   Look at the '<b>executor</b>'. It ccepts only 2 parameters, le due callbacks resolve e reject 
   <span class="lessImportant">(questo va bene per la 'Promise'. Ma i dati di input al processo asincrono? Chi li fornisce?</span>
  </p>

<pre class="ai" style="margin-top:0px;"><code>
 <span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">{</span>
  <span class="comment">// ...</span>
 <span class="punctuation">}</span>
</code></pre>


  <br>
  <p class="text br15">
   The '<b>executor</b>'  dovrebbe accettare anche un terzo parametro con I dati di input per il processo asincrono.
   <span class="lessImportant">(questo dovrebbe far capire che la 'Promise' si limita a gestire il processo sincrono ma non ci vuole avere a che fare.)</span>
  </p>


<pre class="ai" style="margin-top:0px;"><code>
 <span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span>, <span class="variable">reject</span>, <span class="variable">info</span>) <span class="punctuation">{</span>
  <span class="comment">// ...</span>
 <span class="punctuation">}</span>
</code></pre> 

<br>
<p class="text br15">
 The '<b>executor</b>' dovrebbe avere questa forma qui nella quale però non è chiaro da dove provenga info
</p>

<pre class="ai" style="margin-top:0px;"><code>

 <span class="comment">// L'executor conforme alle richieste della promise</span>
 <span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="punctuation">{</span>        
 
     <span class="comment">// Il processo asincrono con tutti i dati necessari</span>
     <span class="keyword">function</span> <span class="function">run</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span><span class="punctuation">,</span> <span class="variable">info</span>) <span class="punctuation">{</span>
         <span class="comment">// ...</span>
     <span class="punctuation">}</span>
 <span class="punctuation">}</span>
</code></pre>

<br>
<p class="text br15">
 Una soluzione potrebbe essere questa
</p>

<pre class="ai" style="margin-top:0px;"><code>
 <span class="comment">// Returns a function conforme alle richieste della promise</span>
 <span class="keyword">function</span> <span class="function">getExecutor</span>(<span class="variable">id</span>) <span class="punctuation">{</span>
     
     <span class="comment">// Il processo asincrono con tutti i dati necessari</span>
     <span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="punctuation">{</span>
         <span class="function">setTimeout</span>(<span class="variable">_</span> <span class="operator">=></span> <span class="punctuation">{</span>
             <span class="keyword">let</span> <span class="variable">employees</span> <span class="operator">=</span> <span class="punctuation">[</span>
                 <span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'John'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'20'</span><span class="punctuation">}</span><span class="punctuation">,</span> 
                 <span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'Mary'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'25'</span><span class="punctuation">}</span>
             <span class="punctuation">]</span><span class="punctuation">;</span>
             <span class="function">resolve</span>(<span class="variable">employees</span><span class="punctuation">[</span><span class="variable">id</span><span class="punctuation">]</span>.<span class="variable">name</span>)
         <span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">100</span><span class="punctuation">)</span>
     <span class="punctuation">}</span>
 
     <span class="keyword">return</span> <span class="variable">executor</span><span class="punctuation">;</span>
 <span class="punctuation">}</span>
 
 <span class="keyword">var</span> <span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="function">getExecutor</span>(<span class="number">0</span>))<span class="punctuation">;</span>
 <span class="variable">promise</span>.<span class="function">then</span>(<span class="function">onResolve</span>, <span class="function">onReject</span>);
 </code></pre>

 <br>
 <p class="text br15">
  O, ancora meglio, questa che ritorna direttamente una promise:
 </p>

 <pre class="ai" style="margin-top:0px;"><code>
 <span class="keyword">function</span> <span class="function">getEmployee</span>(<span class="variable">id</span>) <span class="punctuation">{</span>
     
     <span class="comment">// Il processo asincrono con tutti i dati necessari</span>
     <span class="keyword">function</span> <span class="function">executor</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="punctuation">{</span>
         <span class="function">setTimeout</span>(<span class="variable">_</span> <span class="operator">=></span> <span class="punctuation">{</span>
             <span class="keyword">let</span> <span class="variable">employees</span> <span class="operator">=</span> <span class="punctuation">[</span>
                 <span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'John'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'20'</span><span class="punctuation">}</span><span class="punctuation">,</span> 
                 <span class="punctuation">{</span><span class="variable">name</span> <span class="operator">:</span> <span class="string">'Mary'</span><span class="punctuation">,</span> <span class="variable">age</span> <span class="operator">:</span> <span class="string">'25'</span><span class="punctuation">}</span>
             <span class="punctuation">]</span><span class="punctuation">;</span>
             <span class="function">resolve</span>(<span class="variable">employees</span><span class="punctuation">[</span><span class="variable">id</span><span class="punctuation">]</span>.<span class="variable">name</span>)
         <span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">100</span><span class="punctuation">)</span>
     <span class="punctuation">}</span>
 
     <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="variable">executor</span>)<span class="punctuation">;</span><span class="punctuation">;</span>
 <span class="punctuation">}</span>
 
 <span class="function">getEmployee</span>(<span class="number">1</span>).<span class="function">then</span>(<span class="function">onResolve</span>, <span class="function">onReject</span>)

</code></pre> 

 </section> -->


 


 <!--Note  -->
 <div class="comment">

  <p class="text">
   To better understand how Promises help harmonise or synchronise multiple 
   asynchronous operations, two tools and a demo code are provided:
  </p>
  <ul>
   <li class="text">
     <b>ProgressBar</b> — a graphical model that represents the progression of an asynchronous process. 
     The progress bar visually reflects the state of the operation, updating its width and colour 
     based on the outcome of the asynchronous task, giving immediate feedback on whether 
     the process is progressing, has completed successfully, or has encountered an error.
   </li>
   <li class="text">
     <b>PromiseGUI</b> — a graphical model that shows how the Promise responds 
     to what happens inside the ProgressBar.<br>
     It doesn’t display the state of the Promise itself, but the flow between the four callbacks it 
     manages: <i>onResolve</i>, <i>onReject</i>, <i>onCatch</i>, and <i>onFinally</i>.

   </li>
   <li class="text">
     <b>PromiseDIY</b> — a very simplified version of the Promise implementation.  
     It is written purely for learning purposes, to give a basic idea of how the Promise interacts with its four callbacks.
   </li>
  </ul>
  
  <br>

  <p class="text">In the real world:</p>

  <ul>
   <li class="text">
     <b>ProgressBar</b> might represent an asynchronous call to an AJAX API that either <i>resolves</i> or <i>rejects</i>.
   </li>
   <li class="text">
 			<b>PromiseGUI</b> might be code that adapts the page layout based on the AJAX API’s response.
			</li>
		</ul>
		

		

	</div>		

	
	<!--Aside 1  -->
	<aside style="background-color: #F0F0F5;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Widget 1A:</span>&nbsp;
				<span class="SectionTitle">ProgressBar</span>
				<span class="SectionSubTitle">how it works.</span>
			</span>
		</h2>
		<br>
			
		<p class="text">
			The '<b>ProgressBar</b>'
		</p>
		<ul>
			<li>Receives a random number <span class="lessImportant">(shown on the left)</span> to simulate an input for the asynchronous process</li>
			<li>Runs for a random time (shown in the middle) to simulate the deferred task running</li>			
			<li>returns a value <span class="lessImportant">(shown on the right. The sum of the two previous values)</span></li>
		</ul>

<hr>
		<div id="divProgressBars" style="width: 300px;margin: auto;"></div>
		<div id="divMessage" style="text-align: center;">&nbsp;</div>
<hr>

		<table style="width:100%;">
			<tr>	
				<td id="tdR1AC2" style="text-align:center;">
					<!-- ProgressBar placeholder -->
				</td>
			</tr>
		</table>
		<p class="text">
			The progressBar is a tool to <b>make visible an ASynchronous process</b> running.
		</p>
		<table  style="width:100%;">
			<tr>	
				<td id="tdR1AC1" class="btnsContainer" style="vertical-align:middle;height:30px;">
					<div class="br15" style="text-align: center; margin-bottom:15px;">
						<button onclick="btnR1AStart_onclick(this)" title="Starts the asynchronous process represented by the 'ProgressBar'.">GO</button>
						<span style="padding-left: 6px; display:inline-block; width: 200px;">&nbsp;</span>
					</div>
				</td>
			</tr>
		</table>

		<p class="text">
			It exposes a function named '<span class="red">executor</span>'', which is designed to be used by a Promise and 
			accepts two callbacks: '<b>resolve</b>'' and '<b>reject</b>', which are used to send messages back to the Promise, to notify the outcome of the ASynchronous operation. 
		</p>			
<pre class="ai"><code>
	<span class="keyword">const</span> <span class="variable">pb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">ProgressBar</span><span class="punctuation">(</span><span class="string">'pbID'</span><span class="punctuation">)</span><span class="punctuation">;</span>
	<span class="keyword">var</span> <span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="variable">pb</span>.<span class="red">executor</span>)<span class="punctuation">;</span>
</code></pre>				
		<p class="important">
			<!-- The 'Progress bar' implements an ASynchronous process that runs for a random amount of time and ends up with one state chosen randomly between 4 internal states. -->
			The 'Progress bar' ends up with a random state (chosen between 4 internal states)<br>
		</p>
		<p class="text">
			These 4 states are graphically <b>visible only to the user </b> (by the bar). 
		</p>	

		<table class="PBStaus" style="width: 100%;" cellpadding="0" cellspacing="0">
			<tr>
				<td class="space"></td>
				<td class="resolved" style="width: 80px;"></td>
				<td class="space"></td>
				<td class="rejected" style="width: 80px;"></td>
				<td class="space"></td>
				<td class="timeout" style="color:white; width: 80px;">Timeout</td>
				<td class="space" style="width: 10px;"></td>
				<td class="error" style="width:100px; background-position: 30px 12px;"></td>
			</tr>

			<tr>
				<td class="space"></td>
				<td style="vertical-align: top;">1) Resolved</td>
				<td class="space"></td>
				<td style="vertical-align: top;">2) Rejected</td>
				<td class="space"></td>
				<td style="vertical-align: top;">3) Timeout</td>
				<td class="space"></td>
				<td style="vertical-align: top;">4) Internal Error</td>
			</tr>

			<tr>
				<td colspan="8">
				<p class="lessImportant">
						('<b>Timeout</b>' and '<b>Internal Error</b>' are internal conditions managed by the ProgressBar.
						From the Promise’s perspective, both are treated as a generic rejection.)
					</p>
				</td>
			</tr>

			<tr><td colspan="8">&nbsp;</td></tr>
			<tr>
				<td colspan="8">
					<p class="text">
						These are the internal <b>outcomes communicate to the 'Promise'</b>;
					</p>
				</td>
			</tr>

			<tr>
				<td class="space">&nbsp;	</td>
				<td class="resolved" style="width: 80px;"></td>
				<td class="space"></td>
				<td class="rejected" colspan="5"></td>
			</tr>

			<tr>
				<td class="space"></td>
				<td>1) Resolved</td>
				<td class="space"></td>
				<td colspan="5" style="text-align:center;">2) Rejected</td>
			</tr>
		</table>

	</aside>
	
	
	<div class="comment">
		<p class="text">
			Once received a message ('resolve' xOr 'reject'), the 'Promise' is ready to call the methods listed at the introduction. 
			'<b>PromiseGUI</b>' is the tool used by this page to give a graphical representation of the action taken by the 'Promise'.
		</p>
	</div>	
	
	<!--Section 1B  -->
	<aside style="background-color: #F0F0F5;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Widget 1B:</span>&nbsp;
				<span class="SectionTitle">PromiseGUI</span>
				<span class="SectionSubTitle">how it works.</span>
			</span>
		</h2>					
		

		<table id="tdR1B" class="demo" align="center"  style="width:60px;">
			<tr>
				<!-- PromiseGUI place holder -->
				<td></td>
			</tr>
		</table>

		<p class="text">
			The '<b>PromiseGUI</b>' exposes the 4 callbacks required by the Promise.
		</p>


		<pre class="ai"><code>
			<span class="keyword">var</span> <span class="variable">promiseGUI</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">PromiseGUI</span>()<span class="punctuation">;</span>
		
			<span class="punctuation">.</span><span class="function">then</span>(<span class="variable">promiseGUI</span>.<span class="variable">onResolve</span><span class="punctuation">,</span> <span class="variable">pgui</span>.<span class="variable">rejected</span>)
			<span class="punctuation">.</span><span class="function">catch</span>(<span class="variable">promiseGUI</span>.<span class="variable">onCatch</span>)
			<span class="punctuation">.</span><span class="function">finally</span>(<span class="variable">promiseGUI</span>.<span class="variable">onFinally</span>)<span class="punctuation">;</span>
		</code></pre>	

		<br>
		
		<p class="text">
			It demonstrates how the executor responds, which callbacks the Promise triggers, and the graphical effect..
		</p>

		<br>
		
		<table style="width:100%;">
			<tr>
				<td class="btnsContainer" style='border: solid 0px transparent'>
					<button id='btnR1BResolved' onclick="btnR1BResolved_onclick(this)" style="width:75px;" title="Indicates that 'resove'  was called inside the 'executor'">resolved</button> 
					<button id='btnR1BRejected' onclick="btnR1BRejected_onclick(this)" style="width:75px;" title="Indicates that 'reject'  was called inside the 'executor'">rejected</button> 
					<button id='btnR1BCatched' onclick="btnR1BCatched_onclick(this)" style="width:165px;" title="Indicates that an uncaught error occurred inside the 'executor'">caught</button>
					<button id='btnR1BFulfilled' onclick="btnR1BFulfilled_onclick(this)" style="width:165px;" title="Indicates that 'finally' was called by the 'Promise'.">fulfilled (finally)</button>	
				</td>
				<td class="pbsContainer" id="">
					<button onclick="btnR1BReset_onclick(this)" title="Resets the buttons for a new simulation.">reset</button>
				</td>				
			</tr>
		</table>
		<br>
	</aside>

		
	<div class="comment">
		<p class="superImportant">
			<b>Please note</b>: 
			ProgressBar and PromiseGUI solely provide the necessary functions for 'Promise'.
			They neither use nor return a 'promise'.<br>
			The code for them is in
			'<b>ProgressBar.js</b>' and '<b>PromiseGUI.js</b>'.
		</p>
	</div>
	
	<!-- PromiseDIY 3  -->
	<!-- <section style="border: solid 0px #ccc;background-color:transparent;box-shadow: none;"> -->
	<aside style="background-color: #F0F0F5;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Snippet 1A:</span>&nbsp;
				<span class="SectionTitle"> Promise DIY</span>				
				<span class="SectionSubTitle">A minimal DIY-style Promise.</span>
			</span>
		</h2>
		
		<p class="text">
			Have you ever wondered <b>how a 'Promise' works internally?</b>
		</p>
		
		<p class="text">
			This code offers a glimpse — it doesn’t cover everything, but it captures the general structure.
		</p>

		
		<table style="width: 100%;">

			<tr>
				<td class="btnsContainer" style="white-space: nowrap;"> 
					<button onclick="btnR2AThen_onclick(this)"    title="Uses the 'Promise' object">GO <span style="font-size: 0.8em;opacity:0.5">('Promise')</span></button>
					<button onclick="btnR2ADIYThen_onclick(this)" title="Uses the 'PromiseDIY' object">GO <span style="font-size: 0.8em;opacity:0.5">('PromiseDIY')</span></button>
				</td>
				<td class="pbsContainer" id="tdR2AC2"> 
					<div ></div>
					<table style="width: 320px;"><tr><td id="tdGUI" style="width: 35px;border: solid 1px transparent;"></td><td id="divXXX"></td></tr></table>
	
				</td>
				<td class="msgContainer">					
					<p class="lessImportant">
						shows PromiseDIY works.
					</p>
				</td>							
				
			</tr>
		</table>


<pre class="ai"><code>
	<span class="comment">// A basic DIY Promise that actually works.</span>
	<span class="keyword">class</span> <span class="function">PromiseDIY</span> <span class="punctuation">{</span>
	
		<span class="comment">// Assigned empty functions to avoid 'null reference' Error.</span>
		<span class="variable">onResolve</span> <span class="operator">=</span> <span class="variable">_</span> <span class="operator">=&gt;</span> <span class="punctuation">{};</span>
		<span class="variable">onReject</span>  <span class="operator">=</span> <span class="variable">_</span> <span class="operator">=&gt;</span> <span class="punctuation">{};</span>
		<span class="variable">onCatch</span>   <span class="operator">=</span> <span class="variable">_</span> <span class="operator">=&gt;</span> <span class="punctuation">{};</span>
		<span class="variable">onFinally</span> <span class="operator">=</span> <span class="variable">_</span> <span class="operator">=&gt;</span> <span class="punctuation">{};</span>
	
		<span class="keyword">constructor</span>(<span class="red">_executor</span>) <span class="punctuation">{</span>
		
			<span class="keyword">const</span> <span class="purple">_resolve</span> <span class="operator">=</span> (<span class="variable">_value</span>) <span class="operator">=&gt;</span> <span class="punctuation">{</span>
				<span class="keyword">this</span>.<span class="variable">onResolve</span>(<span class="variable">_value</span>)<span class="punctuation">;</span>
				<span class="keyword">this</span>.<span class="variable">onFinally</span>()<span class="punctuation">;</span>
			<span class="punctuation">}</span><span class="punctuation">;</span>
		
			<span class="keyword">const</span> <span class="purple">_reject</span> <span class="operator">=</span> (<span class="variable">_reason</span>) <span class="operator">=&gt;</span> <span class="punctuation">{</span>
				<span class="keyword">this</span>.<span class="variable">onReject</span>(<span class="variable">_reason</span>)<span class="punctuation">;</span>
				<span class="keyword">this</span>.<span class="variable">onFinally</span>()<span class="punctuation">;</span>
			<span class="punctuation">}</span><span class="punctuation">;</span>
		
			<span class="comment">// ---------------------------------------------- //</span>
			<span class="keyword">try</span> <span class="punctuation">{</span>
				<span class="red">_executor</span>(<span class="purple">_resolve</span>, <span class="purple">_reject</span>)<span class="punctuation">;</span>
			<span class="punctuation">}</span> 
			<span class="keyword">catch</span> (<span class="variable">_error</span>) <span class="punctuation">{</span>
				<span class="keyword">this</span>.<span class="variable">onCatch</span>(<span class="variable">_error</span>)<span class="punctuation">;</span>
				<span class="keyword">this</span>.<span class="variable">onFinally</span>()<span class="punctuation">;</span>
			<span class="punctuation">}</span>
			<span class="comment">// ---------------------------------------------- //</span>
		<span class="punctuation">}</span>
		
		<span class="function">then</span>(<span class="variable">_onResolve</span>, <span class="variable">_onReject</span>) <span class="punctuation">{</span>
			<span class="keyword">this</span>.<span class="variable">onResolve</span> <span class="operator">=</span> <span class="variable">_onResolve</span><span class="punctuation">;</span>
			<span class="keyword">this</span>.<span class="variable">onReject</span> <span class="operator">=</span> <span class="variable">_onReject</span><span class="punctuation">;</span>
	
			<span class="comment">// return this is absolutely fake (will be clear soon)</span>
			<span class="keyword">return</span> <span class="keyword">this</span><span class="punctuation">;</span> 
		<span class="punctuation">}</span>
		
		<span class="function">catch</span>(<span class="variable">_onCatch</span>) <span class="punctuation">{</span>
			<span class="keyword">this</span>.<span class="variable">onCatch</span> <span class="operator">=</span> <span class="variable">_onCatch</span><span class="punctuation">;</span>
	
			<span class="comment">// return this is absolutely fake (will be clear soon)</span>
			<span class="keyword">return</span> <span class="keyword">this</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
		
		<span class="function">finally</span>(<span class="variable">_onFinally</span>) <span class="punctuation">{</span>
			<span class="keyword">this</span>.<span class="variable">onFinally</span> <span class="operator">=</span> <span class="variable">_onFinally</span><span class="punctuation">;</span>
	
			<span class="comment">// return this is absolutely fake (will be clear soon)</span>
			<span class="keyword">return</span> <span class="keyword">this</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
	<span class="punctuation">}</span>
	</code></pre>
	
	<p class="lessImportant">  
		'<b><span class="keyword">return</span> <span class="keyword">this</span><span class="punctuation">;</span></b>' 
		 in the snippet above doesn't reflect how Promises really works!
	</p>
	<br>
	<p class="superImportant">
		<strong>Attention:</strong> 'then', 'catch' and 'finally' <b>ALWAYS return a <span class="red">NEW</span> 'Promise'</b>.
	</p>
	
	<br>


</aside>
	
	<!--Section 1A  -->	
	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 1A:</span>&nbsp;
				<span class="SectionTitle">'Promise'</span>
				<span class="SectionSubTitle">Why this name?</span>
			</span>
		</h2>

		<br>
		<table border="0"  style="width: 100%;border:solid 0px transparent;">
			<tbody>

				<tr>
					<td colspan="2">
						<p class="text">
							The answer lies in these two snippets of code.
						</p>
					</td>
				</tr>

				<tr>
					<td></td>
					<td>
						<p class="text">
							Here, we create an instance of Promise, passing it an '<b>executor</b>' function.
							The executor is immediately executed by the Promise constructor.
						</p>
						<p class="text">
							As soon as the executor completes its task, it informs the Promise (either by calling 'resolve' or 'reject').
							However, without any attached callbacks, the Promise can do nothing but wait.
						</p>

					</td>
				</tr>	

				<tr>
					<td style="vertical-align: top;width: 100px;">
						<button onclick="S0C.btnS0C71_onclick(this)" style="width: 80px;">Step 1</button>
					</td>			
					<td style="vertical-align: top;">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="comment">// This shows why the 'Promise' is called so.</span>	
	<span class="keyword">var</span> <span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="red">executor</span>)<span class="punctuation">;</span>
</code></pre>
					</td>
				</tr>
				
				<tr><td colspan="2">&nbsp;</td></tr>
				<tr style="margin-top: 250px;">
					<td></td>
					<td>
						<p class="text">
							In the second snippet, we attach the callbacks the Promise needs to finish its job.
						</p>
					</td>
				</tr>			

				<tr>
					<td style="vertical-align: top;width: 100px;">
						<button onclick="S0C.btnS0C72_onclick(this)" style="width: 80px;">Step 2</button>
					</td>			
					<td style="vertical-align: top;">
<pre class="ai" style="margin-top:0px;"><code>
	<span class="variable">promise</span>
	<span class="punctuation">.</span><span class="function">then</span>(<span class="variable">onResolve</span><span class="punctuation">,</span> <span class="variable">onReject</span>)
	<span class="punctuation">.</span><span class="function">catch</span>(<span class="variable">onCatch</span>)
	<span class="punctuation">.</span><span class="function">finally</span>(<span class="variable">onFinally</span>)<span class="punctuation">;</span>
</code></pre>
					</td>
				</tr>
				
			 </tbody>

		</table>


			<br>

			<!-- ------------------------------------------------------------------------------------- -->
			<hr>

			<br>
			<p class="text">
				This is a another example, this time graphical
			</p>

			<table border="0"  style="width: 100%;border:solid 0px transparent;">
				<tbody>		
					
					<tr>
						<td class="pbsContainer" id="tdS1AE2" colspan="2"> 
							<table cellspacing="0" style="width: 320px;">
								<tr>
									<td id="tdS1AE2gui" style="width: 50px;"></td>
									<td id="tdS1AE2Pb"></td>
								</tr>
							</table>
						</td>
					</tr>

				</tbody>
				<tbody>
					<tr>
						<td colspan="2">
							<p class="text">
								Clicking '<b>Step 1</b>' creates a new instance of 'Promise' and the ASyncronous process is executed.
							</p>
						</td>
					</tr>
					<tr>
						<td>&nbsp;</td>
						<td>
							<p class="lessImportant">
								Promise knows the result of the ASynchronous process but is waiting you to do the answer
							</p>
						</td>
					</tr>

					<tr>
						<td style="vertical-align: top;width: 100px;">
							<button onclick="btnS1AStep1_onclick(this)"      style="width: 80px;" title="Promise implemented in two times.">Step 1</button>
						</td>			
						<td style="vertical-align: top;padding: 0px;">
<pre class="ai"><code>
	<span class="variable">R1C</span>.<span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="keyword">Promise</span>(<span class="variable">R1C</span>.<span class="variable">pb</span>.<span class="variable">executor</span>)<span class="punctuation">;</span>
</code></pre>		
						</td>
					</tr>

				</tbody>
				<tbody>
					
					<tr>
						<td colspan="2">
							<p class="text" style="margin-top: 25px;">
								Clicking '<b>Step 2</b>' 'Promise' gets the callbacks it needs to tell us what was the result.
							</p>
						</tr>
					
					
						<tr>
						<td style="vertical-align: top;width: 100px;">
							<button onclick="btnS1AStep2_onclick(this)" style="width: 80px;">Step 2</button>
						</td>			
						<td style="vertical-align: top;">
<pre class="ai"><code>
	<span class="variable">R1C</span>.<span class="variable">promise</span>
		<span class="punctuation">.</span><span class="function">then</span>(<span class="variable">R1C</span>.<span class="variable">pgui</span>.<span class="variable">onResolve</span><span class="punctuation">,</span> <span class="variable">R1C</span>.<span class="variable">pgui</span>.<span class="variable">rejected</span>)
		<span class="punctuation">.</span><span class="function">catch</span>(<span class="variable">R1C</span>.<span class="variable">pgui</span>.<span class="variable">onCatch</span>)
		<span class="punctuation">.</span><span class="function">finally</span>(<span class="variable">R1C</span>.<span class="variable">pgui</span>.<span class="variable">onFinally</span>)<span class="punctuation">;</span>
</code></pre>		
						</td>
					</tr>



				</tbody>
			</table>
			
			<hr>
			<p class="important">
				So: the Promise takes on the responsibility of executing the given task (the executor), and <b>promises</b> to deliver the 
				resulting value, <b>but only after you request it</b> by registering the callbacks 'onResolve', 'onReject', 'onCatch', and 'onFinally'
			</p>

	</section>

	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 1A sub 1:</span>&nbsp;
				<span class="SectionTitle">then/catch/finally</span>
				<span class="SectionSubTitle">under the hood</span>
			</span>
		</h2>

		<!-- <br> -->
		<p class="important br15">
			'then', 'catch', and 'finally' all return a Promise and that's true. 
		</p>

		<p class="superImportant ">
			 But it's <b>a completely new Promise</b> each time.
		</p>

		<!-- <br> -->
		<p class="text br15" style="margin-bottom: 0px;padding-bottom: 1px;">
			The following examples demostrate that 'then', 'catch', and 'finally' return a different 'Promise'.
		</p>

		<br>

<p class="lessImportant br15" style="margin-bottom: 0px;padding-bottom: 1px;">
	<button onclick="btnS1A1_onclick(this)"    title="Uses the 'Promise' object">Who are you? <span style="font-size: 0.8em;opacity:0.5">('Promise')</span></button>

	('promise.then' returns a totally new 'Promise'. Therefore 'whoAreYou' is 'undefined'.)
</p>


<pre class="ai" style="margin-top:0px;"><code>
	<span class="keyword">var</span> <span class="variable">promise</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="variable">resolve</span>, <span class="variable">reject</span>) <span class="punctuation">=></span> {
		<span class="function">resolve</span>()<span class="punctuation">;</span>
	})<span class="punctuation">;</span>
	<span class="variable">promise</span>.<span class="variable">whoAreYou</span> <span class="operator">=</span> <span class="string">"It's Me"</span><span class="punctuation">;</span>
	
	<span class="comment">// This shows "It's me".</span>	
	<span class="function">alert</span>(<span class="variable">promise</span>.<span class="variable">whoAreYou</span>)<span class="punctuation">;</span>

	<span class="comment">// This shows "undefined".</span>
	<span class="function">alert</span>(<span class="variable">promise</span>.<span class="function">then</span>().<span class="variable">whoAreYou</span>)<span class="punctuation">;</span>
</code></pre>
<br>


<!-- <p class="superImportant">
	<strong>Attention:</strong> despite it's perfectly legitimate to call 'then' multiple times <b>on the same Promise</b> 
	and should return the same value, the result is not the same.' 
</p> -->

<hr>
<br>
<p class="text">
	There are 2 different way to call 'then' on the Promise and both should behave the same:
</p>


<!-- <br> -->
<br>
<button onclick="btnS1A1_onclick(this)"    title="Uses the 'Promise' object">Chaining <span style="font-size: 0.8em;opacity:0.5"> (Version 1)</span></button>
<span class="lessImportant">('promise.then' invoked many times from the same: 'promise1')</span>
<pre class="ai"><code>
	<span class="keyword">let</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="variable">executor1</span>)<span class="punctuation">;</span>

	<span class="variable">promise1</span>.<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)<span class="punctuation">;</span>
	<span class="variable">promise1</span>.<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)<span class="punctuation">;</span>
	<span class="variable">promise1</span>.<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)<span class="punctuation">;</span>
</code></pre>
<br>
<br>
<button onclick="btnS1A1_onclick(this)"    title="Uses the 'Promise' object">Chaining <span style="font-size: 0.8em;opacity:0.5"> (Version 2)</span></button>
<span class="lessImportant">('.then' invoked on the previous 'promise')</span>
<pre class="ai"><code>
	<span class="keyword">let</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="variable">executor2</span>)<span class="punctuation">;</span>
	<span class="variable">promise2</span>
		.<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)
		.<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)
		.<span class="function">then</span>(<span class="variable">onResolve</span>, <span class="variable">onReject</span>)<span class="punctuation">;</span>
</code></pre>

<br>
<p class="text">
	<!-- Il miglior paragone del comportamento di  'then', 'catch', and 'finally' è la 'Relay race' -->
	The best way to understand how then, catch, and finally behave is to think of a relay race. 
</p>
<div style="text-align: center;" class="br15">
<img src="stuffs/RelayRace.png" style="width:150px;margin:auto;display:inline-block;padding:0px;margin:0px;">
</div>

<p class="text">
	<!-- Dove i corridori sono solamente coloro che portano il testimone: sono i dati che viaggiano e nonla promise -->
	In the race, the true 'runner' is the data being passed along, not the promise itself, which merely facilitates the handovers of the baton.
</p>
<br>

	</section>



	
	<aside style="background-color: #F0F0F5;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Snippet 2A:</span>&nbsp;
				<span class="SectionTitle">PromisePRO</span>				
				<span class="SectionSubTitle"> implementation of chaining.</span>
			</span>
		</h2>
		
		<p class="text br15">
			A new implementation of the Promise, focusing on chaining to better understand how it actually works.
		</p>		

		<p class="superImportant">
			The principle of 'chaining' is simple: to propagate information along the flow of processes
		</p>		
		<p class="lessImportant">
			How 'Promise' obtains that is less straightforward. 
		</p>
		<!-- <img src="stuffs/RelayRace.png" style="width:150px;margin:auto;display:inline-block;padding:0px;margin:0px;"> -->
<pre class="ai" style="padding-top: 0px;margin-top: 0px;"><code>
	<span class="keyword">class</span> <span class="variable">PromisePro</span> <span class="punctuation">{</span>
	<details style="margin-left: 5px;">
		<summary><span class="comment">    // <b>Click</b> to expand the code.</span></summary>
		<span class="keyword">constructor</span>(<span class="variable">executor</span>) <span class="punctuation">{</span>
			<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">=</span> <span class="string">'pending'</span><span class="punctuation">;</span>
			<span class="keyword">this</span>.<span class="variable">value</span> <span class="operator">=</span> <span class="keyword">undefined</span><span class="punctuation">;</span>
			<span class="keyword">this</span>.<span class="variable">reason</span> <span class="operator">=</span> <span class="keyword">undefined</span><span class="punctuation">;</span>
			<span class="keyword">this</span>.<span class="variable">onResolves</span> <span class="operator">=</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">;</span>
			<span class="keyword">this</span>.<span class="variable">onRejects</span> <span class="operator">=</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">;</span>
	
			<span class="keyword">try</span> <span class="punctuation">{</span>
				<span class="variable">executor</span>(<span class="keyword">this</span>.<span class="function">_resolve</span>.<span class="function">bind</span>(<span class="keyword">this</span>)<span class="punctuation">,</span> <span class="keyword">this</span>.<span class="function">_reject</span>.<span class="function">bind</span>(<span class="keyword">this</span>))<span class="punctuation">;</span>
			<span class="punctuation">}</span> <span class="keyword">catch</span> (<span class="variable">err</span>) <span class="punctuation">{</span>
				<span class="keyword">this</span>.<span class="function">_reject</span>(<span class="variable">err</span>)<span class="punctuation">;</span>
			<span class="punctuation">}</span>
		<span class="punctuation">}</span>
	
		<span class="function">_resolve</span>(<span class="variable">value</span>) <span class="punctuation">{</span>
			<span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">===</span> <span class="string">'pending'</span>) <span class="punctuation">{</span>
				<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">=</span> <span class="string">'fulfilled'</span><span class="punctuation">;</span>
				<span class="keyword">this</span>.<span class="variable">value</span> <span class="operator">=</span> <span class="variable">value</span><span class="punctuation">;</span>
				<span class="function">setTimeout</span>(() <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="keyword">this</span>.<span class="variable">onResolves</span>.<span class="function">forEach</span>(<span class="variable">onResolve</span> <span class="operator">=></span> <span class="function">onResolve</span>(<span class="keyword">this</span>.<span class="variable">value</span>))<span class="punctuation">;</span>
				<span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">0</span>)<span class="punctuation">;</span>
			<span class="punctuation">}</span>
		<span class="punctuation">}</span>
	
		<span class="function">_reject</span>(<span class="variable">reason</span>) <span class="punctuation">{</span>
			<span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">===</span> <span class="string">'pending'</span>) <span class="punctuation">{</span>
				<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">=</span> <span class="string">'rejected'</span><span class="punctuation">;</span>
				<span class="keyword">this</span>.<span class="variable">reason</span> <span class="operator">=</span> <span class="variable">reason</span><span class="punctuation">;</span>
				<span class="function">setTimeout</span>(() <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="keyword">this</span>.<span class="variable">onRejects</span>.<span class="function">forEach</span>(<span class="variable">onReject</span> <span class="operator">=></span> <span class="function">onReject</span>(<span class="keyword">this</span>.<span class="variable">reason</span>))<span class="punctuation">;</span>
				<span class="punctuation">}</span><span class="punctuation">,</span> <span class="number">0</span>)<span class="punctuation">;</span>
			<span class="punctuation">}</span>
		<span class="punctuation">}</span>
	
	
		<span class="function">then</span>(<span class="variable">onResolve</span><span class="punctuation">,</span> <span class="variable">onReject</span>) <span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">new</span> <span class="function">PromisePro</span>((<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="operator">=></span> <span class="punctuation">{</span>
	
				<span class="keyword">const</span> <span class="variable">handleResolution</span> <span class="operator">=</span> (<span class="variable">value</span>) <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="keyword">try</span> <span class="punctuation">{</span>
						<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable">onResolve</span> <span class="operator">===</span> <span class="string">'function'</span>) <span class="punctuation">{</span>
	
							<span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="variable">onResolve</span>(<span class="variable">value</span>)<span class="punctuation">;</span>
	
							<span class="keyword">if</span> (<span class="variable">result</span> <span class="keyword">instanceof</span> <span class="variable">PromisePro</span>) <span class="punctuation">{</span>
								<span class="variable">result</span>.<span class="function">then</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>)<span class="punctuation">;</span>
							<span class="punctuation">}</span> <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">result</span> <span class="keyword">instanceof</span> <span class="variable">Promise</span>) <span class="punctuation">{</span>
								<span class="variable">result</span>.<span class="function">then</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>)<span class="punctuation">;</span>
							<span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
								<span class="variable">resolve</span>(<span class="variable">result</span>)<span class="punctuation">;</span>
							<span class="punctuation">}</span>
	
						<span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
							<span class="variable">resolve</span>(<span class="variable">value</span>)<span class="punctuation">;</span>
						<span class="punctuation">}</span>
	
					<span class="punctuation">}</span> <span class="keyword">catch</span> (<span class="variable">err</span>) <span class="punctuation">{</span>
						<span class="variable">reject</span>(<span class="variable">err</span>)<span class="punctuation">;</span>
					<span class="punctuation">}</span>
				<span class="punctuation">}</span><span class="punctuation">;</span>
	
				<span class="keyword">const</span> <span class="variable">handleRejection</span> <span class="operator">=</span> (<span class="variable">reason</span>) <span class="operator">=></span> <span class="punctuation">{</span>
					<span class="keyword">try</span> <span class="punctuation">{</span>
						<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable">onReject</span> <span class="operator">===</span> <span class="string">'function'</span>) <span class="punctuation">{</span>
	
							<span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="variable">onReject</span>(<span class="variable">reason</span>)<span class="punctuation">;</span>
	
							<span class="keyword">if</span> (<span class="variable">result</span> <span class="keyword">instanceof</span> <span class="variable">PromisePro</span>) <span class="punctuation">{</span>
								<span class="variable">result</span>.<span class="function">then</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>)<span class="punctuation">;</span>
							<span class="punctuation">}</span> <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">result</span> <span class="keyword">instanceof</span> <span class="variable">Promise</span>) <span class="punctuation">{</span>
								<span class="variable">result</span>.<span class="function">then</span>(<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>)<span class="punctuation">;</span>
							<span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
								<span class="variable">resolve</span>(<span class="variable">result</span>)<span class="punctuation">;</span> 								
							<span class="punctuation">}</span>
	
						<span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
							<span class="variable">reject</span>(<span class="variable">reason</span>)<span class="punctuation">;</span>
						<span class="punctuation">}</span>
					<span class="punctuation">}</span> <span class="keyword">catch</span> (<span class="variable">err</span>) <span class="punctuation">{</span>
						<span class="variable">reject</span>(<span class="variable">err</span>)<span class="punctuation">;</span>
					<span class="punctuation">}</span>
				<span class="punctuation">}</span><span class="punctuation">;</span>
	
				<span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">===</span> <span class="string">'fulfilled'</span>) <span class="punctuation">{</span>
					<span class="function">setTimeout</span>(() <span class="operator">=></span> <span class="function">handleResolution</span>(<span class="keyword">this</span>.<span class="variable">value</span>)<span class="punctuation">,</span> <span class="number">0</span>)<span class="punctuation">;</span>
				<span class="punctuation">}</span> <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">status</span> <span class="operator">===</span> <span class="string">'rejected'</span>) <span class="punctuation">{</span>
					<span class="function">setTimeout</span>(() <span class="operator">=></span> <span class="function">handleRejection</span>(<span class="keyword">this</span>.<span class="variable">reason</span>)<span class="punctuation">,</span> <span class="number">0</span>)<span class="punctuation">;</span>
				<span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
					<span class="keyword">this</span>.<span class="variable">onResolves</span>.<span class="function">push</span>(<span class="variable">handleResolution</span>)<span class="punctuation">;</span>
					<span class="keyword">this</span>.<span class="variable">onRejects</span>.<span class="function">push</span>(<span class="variable">handleRejection</span>)<span class="punctuation">;</span>
				<span class="punctuation">}</span>
			<span class="punctuation">}</span>)<span class="punctuation">;</span>
		<span class="punctuation">}</span>
	
		<span class="function">catch</span>(<span class="variable">onReject</span>) <span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">this</span>.<span class="function">then</span>(<span class="keyword">undefined</span><span class="punctuation">,</span> <span class="variable">onReject</span>)<span class="punctuation">;</span>
		<span class="punctuation">}</span> <span class="function">finally</span>(<span class="variable">onFinally</span>) <span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">this</span>.<span class="function">then</span>((<span class="variable">value</span>) <span class="operator">=></span> <span class="punctuation">{</span>
				<span class="keyword">try</span> <span class="punctuation">{</span>
					<span class="variable">onFinally</span>()<span class="punctuation">;</span>
					<span class="keyword">return</span> <span class="variable">value</span><span class="punctuation">;</span>
				<span class="punctuation">}</span> <span class="keyword">catch</span> (<span class="variable">err</span>) <span class="punctuation">{</span>
					<span class="keyword">return</span> <span class="variable">PromisePro</span>.<span class="function">reject</span>(<span class="variable">err</span>)<span class="punctuation">;</span>
				<span class="punctuation">}</span>
			<span class="punctuation">}</span><span class="punctuation">,</span> (<span class="variable">reason</span>) <span class="operator">=></span> <span class="punctuation">{</span>
				<span class="keyword">try</span> <span class="punctuation">{</span>
					<span class="variable">onFinally</span>()<span class="punctuation">;</span>
					<span class="keyword">return</span> <span class="variable">PromisePro</span>.<span class="function">reject</span>(<span class="variable">reason</span>)<span class="punctuation">;</span>
				<span class="punctuation">}</span> <span class="keyword">catch</span> (<span class="variable">err</span>) <span class="punctuation">{</span>
					<span class="keyword">return</span> <span class="variable">PromisePro</span>.<span class="function">reject</span>(<span class="variable">err</span>)<span class="punctuation">;</span>
				<span class="punctuation">}</span>
			<span class="punctuation">}</span>)<span class="punctuation">;</span>
		<span class="punctuation">}</span>
	
		<span class="keyword">static</span> <span class="function">resolve</span>(<span class="variable">value</span>) <span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">new</span> <span class="function">PromisePro</span>((<span class="variable">resolve</span>) <span class="operator">=></span> <span class="function">resolve</span>(<span class="variable">value</span>))<span class="punctuation">;</span>
		<span class="punctuation">}</span>
	
		<span class="keyword">static</span> <span class="function">reject</span>(<span class="variable">reason</span>) <span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">new</span> <span class="function">PromisePro</span>((<span class="variable">resolve</span><span class="punctuation">,</span> <span class="variable">reject</span>) <span class="operator">=></span> <span class="function">reject</span>(<span class="variable">reason</span>))<span class="punctuation">;</span>
		<span class="punctuation">}</span>
	</details>	
	<span class="punctuation">}</span>
</code></pre>
	<br>

	<p class="lessImportant">
		This implementation of the Promise is still not complete, but it works and will be used soon.
	</p>	


</aside>


	<!--Note  -->
	

	<aside style="background-color: #F0F0F5;">

		<p class="important br15">
			Working with a single async process, a Promise is an option; with many, Promises are key.
		</p>	

		<p class="text br15">
			There are two different configurations for multiple processes:
		</p>	

		<!-- <hr> -->
		<table style="width: 400px;margin: auto;" >
			<tr>
				<td>
					<h3>Sequential flow</h3>
				</td>
				<td>
					<h3>Parallel flow</h3>
				</td>
			</tr>
			<tr>
				<td>
					<img src="stuffs/SequentialFlowV.png" alt="three processess running sequential" style="width:80px;margin:auto;display:inline-block;padding:0px;margin:0px;">
				</td>
				<td>
					
						<img src="stuffs/ParallelFlowV.png" alt="three processess running parallel" style="width:100px;margin:auto;display:inline-block;padding:0px;margin:0px;">
				</td>
			</tr>

		</table>
		
		<p class="text br15">
			Next sessions will analize them
		</p>

	</aside>

	
	<div class="comment">
		<p class="MenInBlackEmoji text br15">
			 Now it's time to put things together...<span class="lessImportant">(When the going gets tough, the tough get going.)</span>
		</p>
	</div>	
		
	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 1A sub 2:</span>&nbsp;
				<span class="SectionTitle">then/catch/finally</span>
				<span class="SectionSubTitle"><span class="red">Sequential</span> flow</span>
			</span>
		</h2>
		<br>      
		<p class="superImportant">
			It might seem odd, but <b>'then'/'catch'/'finally' chains aren't designed to be interrupted</b> 
			<!-- , running their course till the end. -->
	   </p>

	   <p class="superImportant">
			The <b>Promise hell</b> is the direct consequence when a squential high granulrity flow is needed
	  </p>
	   
		<!-- <p class="text">
			This means the process implemented in this section can be achieved with a neat little trick.
	   </p> -->

	   <br>

		<table style="table-layout: fixed;">			
			<tr>
				<td class="btnsContainer" style="width: 200px;vertical-align: top;"> 
					
					<button onclick="btnS1ASub1B1_onclick(this)" style="width: 160px;text-align: left;" title="Vivid RUNNING example of 'callback hell'">1) GO <span style="font-size: 0.8em;opacity:0.5">(callback hell)</span></button>	
					<!-- <br> -->
					<!-- <br> -->
					<button onclick="btnS1ASub1B2_onclick(this)" style="width: 160px;text-align: left;margin-top: 5px;" title="Old style implementation: callback oriented'.">2) GO <span style="font-size: 0.8em;opacity:0.5">(callbacks)</span></button>
					<!-- <br> -->
					<!-- <br> -->
					<button onclick="btnS1ASub1B3_onclick(this)" style="width: 160px;text-align: left;margin-top: 5px;" title="Again the same process this time Uses the 'Promise'.">3) GO <span style="font-size: 0.8em;opacity:0.5">('Promise')</span></button>
					<!-- <br><br> -->
					<button onclick="btnS1ASub1B4_onclick(this)" style="width: 160px;text-align: left;margin-top: 5px;" title="this time uses the 'PromisePRO' to prove it behave like the real 'Promise'.">4) GO <span style="font-size: 0.8em;opacity:0.5">('PromisePRO')</span></button>
					<!-- <br><br> -->
					<button onclick="btnS1ASub1B5_onclick(this)" style="width: 160px;text-align: left;margin-top: 5px;" title="The version with the chaining of 'then'">5) GO <span style="font-size: 0.8em;opacity:0.5">('chain')</span></button>
					<!-- <br><br>					 -->
				</td>
				<td class="pbsContainer" id="tdS1ASub1" style="vertical-align: top;"> 					

					<table style="width: 320px;"cellspacing="0">
						<tr>
							<td id="tdtdS1ASub1pb1"></td>
						</tr>
						<tr>
							<td id="tdtdS1ASub1pb2"></td>
						</tr>
						<tr>
							<td id="tdtdS1ASub1pb3"></td>
						</tr>
						<tr>
							<td id="tdtdS1ASub1pb4"></td>
						</tr>
						<tr>
							<td id="tdtdS1ASub1pb5"></td>
						</tr>

						<tr>
							<td></td>
							<td id="tdS1ASub1Message">&nbsp;</td>
						</tr>
					</table>
									
				</td>
			</tr>
			
		</table>

			   
		<p class="lessImportant">
			This section implements a sequential flow with the ability to be interrupted at any point,
			offering the granularity to act appropriately at the level of interruption. 
	   </p>
 
		<p class="lessImportant"> 
			Various techniques are used, and their analysis in DEBUG MODE is highly recommended.
	   </p>
	
	</section>

	<!-- <aside  style="background-color: #F0F0F5;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 1B sub 1:</span>&nbsp;
				<span class="SectionTitle">Parallel flow</span>
				<span class="SectionSubTitle">All, AllSttled; Race; Any	</span>
			</span>
		</h2>

	</aside> -->

	<aside style="background-color: #F0F0F5;">
			   
		<p class="text">
			<b>All</b>, <b>AllSettled</b>, <b>Race</b>, and <b>Any</b> are different strategies to manage many parallel asynchronous processes. 
	   </p>

	   		   
		<p class="text br15">
			All of them require the same configuration but different from those used since now. 
			<div style="margin-left: 45px;">
				- A Master promise<br>	

				- n sub promises	
			</div>	
		</p>
	</aside>

	<!--Section 3B  -->
	<section>
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 1A sub 3:</span>&nbsp;
				<span class="SectionTitle">then/catch/finally</span>
				<span class="SectionSubTitle"><span class="red">Parallel</span> flow</span>
			</span>
		</h2>


		<p class="text br15">
			In this case, many indipendent processes run Simultaneously
		</p>




<table style="width: 400px;" class="br15">

	<tr>
		<td id="tdR3BPromiseGuiGroup"> 
			<button onclick="btnR3BGO_onclick(this)" style="margin-right: 20px;">GO</button>
		</td>

		<td id="tdR3BProgressBar">					
		</td>							
		
	</tr>
</table>



	</section>

	<!--Note  -->	
	<div class="comment">
		<!-- <h2>Note</h2>-->
			<p class="text">
				✨ Now it's Time to make 'Promise' shine. ✨
			</p>	 
			<br>

			<p class="important">
				In the following sections, there will be a '<b>Master Promise</b>' and many '<b>Promises</b>'. 

			</p>
			<p class="important"> 
				The 'Master Promise' will succeed or fail based on its promises (and configuration).
			</p>
		</div>	
			
	<!--Section 4A  -->
	<section style="min-height:70px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 4A:</span>&nbsp;
				<span class="SectionTitle">'Promise.all'</span>
				<!-- <span class="SectionSubTitle"></span> -->
			</span>
		</h2>

		<p class="text">
			<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" target="_blank" style="margin-bottom:10px;">Promise.all() - JavaScript | MDN</a>
	   </p>

		<table class="br15" style="width: 500px;">

			<tr id="trR4A">
				<td> 
					<button onclick="btnR4AGO_onclick(this)" style="margin-right: 20px;">GO</button>
				</td>

				<td id="tdR4AProgressBar"  >					
				</td>	

				<td style="width:5px;"> 

				</td>						
				
			</tr>
		</table>

		<p class="text br15">
			'<b>Promise.all</b>', Resolves only when all its 'promises' resolve. Rejects as soon any of the 'promises' rejects.
		</p>

	</ul>
	</section>
	
		
	<!--Section 4B  -->
	<section style="min-height:70px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 4B:</span>&nbsp;
				<span class="SectionTitle">'Promise.allSettled'</span>
				<!-- <span class="SectionSubTitle">(extended).</span> -->
			</span>
		</h2>


		<p class="text br15">
			<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" target="_blank" style="margin-bottom:10px;">Promise.race() - JavaScript | MDN</a>
		</p>
		
		<table style="width: 450px;" class="br15">
		
			<tr id="trR4B">
				<td> 
					<button onclick="btnR4BGO_onclick(this)" style="margin-right: 20px;">GO</button>
				</td>
		
				<td id="tdR4BProgressBar">					
				</td>

				<td style="width:5px;"> 
		
				</td>						
				
			</tr>
		</table>

		
		<p class="text br15">
			'<b>Promise.allSettled</b>', waits till all the 'ProgressBars' complete, successfully or not. Then resolves.
		</p>
		<p class="text">
			<span class="lessImportant">('allSettled' rejects only if a 'catch' occurs.)</span>
		</p>

	</section>
		
	<!--Section 4C  -->
	<section style="min-height:70px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 4C:</span>&nbsp;
				<span class="SectionTitle">'Promise.race'</span>
				<!-- <span class="SectionSubTitle">(extended).</span> -->
			</span>
		</h2>

		<p class="text br15">
			<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" target="_blank" style="margin-bottom:10px;">Promise.race() - JavaScript | MDN</a>
		</p>
		
		<table style="width: 450px;" class="br15">
		
			<tr id="trR4C">
				<td> 
					<button onclick="btnR4CGO_onclick(this)" style="margin-right: 20px;">GO</button>
				</td>
		
				<td id="tdR4CProgressBar">					
				</td>	

				<td style="width:5px;"> 
		
				</td>						
				
			</tr>
		</table>					
		
		<p class="text br15">
			'<b>Promise.race</b>', 'resolve' as soon a 'ProgressBar' 'resolves'. 'reject' as soon any of the 'ProgressBar' 'rejects'.
		</p>

	</section>
		
	<!--Section 4D  -->
	<section style="min-height:70px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 4D:</span>&nbsp;
				<span class="SectionTitle">'Promise.any'</span>
				<!-- <span class="SectionSubTitle">(extended).</span> -->
			</span>
		</h2>

		

		<p class="text br15">
			<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any" target="_blank" style="margin-bottom:10px;">Promise.any() - JavaScript | MDN</a>
		</p>


		<table style="width: 450px;" class="br15">
		
			<tr id="trR4D">
				<td> 
					<button onclick="btnR4DGO_onclick(this)" style="margin-right: 20px;">GO</button>
				</td>
		
				<td id="tdR4DProgressBar">					
				</td>		
				
				<td style="width:5px;"> 
		
				</td>					
				
			</tr>
		</table>

		
		<p class="text br15">
			'<b>Promise.any</b>' resolves as soon any of the 'promises' resolve. Rejects when all 'promises' reject
		</p>
		<!-- <ul>
			<p class="text">With '<b>Promise.any</b>', the 'Master-Promise':</p>
			<li class="text"><b>resolves</b> (is successful) as soon any of the 'promises' resolve.
			</li>
			<li class="text"><b>Rejects</b> (fails) when all 'promises' rejects.
			</li>
		</ul> -->


	</section>	

		
	<!--Note  -->
	<div class="comment">
		<h2>Note</h2>
		<p class="text">
			Now some, more in-depth, consideration regarding:<br/>
			1) <b>concurrency</b><br/>
			2) <b>threading</b><br/>
		</p>
		<p class="text">
			Starting from section 4A, a single 'Master-Promise' controls many, independent and simultaneous processes. This is always safe under javascript.
			because the JS engine works on a single thread, so there is 
			only one process running in a given time. 
		</p>
		<p class="text">
			Hence, when a 'executer' function gets its 'CPU Time slot', it has the time to set its state 
			and then notifying 'Promise' without worrying if another process might leave it in an inappropriate state.
		</p>	

	</div>		


	<section style="min-height:170px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 6A:</span>&nbsp;
				<span class="SectionTitle">Single threads</span>
				<span class="SectionSubTitle">(a demonstration.).</span>
			</span>
		</h2>
		<!-- <h2>
			<span class="SectionLabel">Section 6A:</span><span class="SectionTitle">Single thread<span style="font-weight:normal;"> a demonstration.</span></span>		
		
		</h2> -->
				
			<table border="0" >
		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3">
					<p class="text"> 
						This section tries to demonstrate what it means to be a single thread. In this demonstration:<br/>
						- the horizontal line is time.<br/>
						- the time between 2 vertical segments is always 50 milliseconds.<br/>
						- there are two processes: the <span class="red">red</span> and the <span style="color:green;">green</span><br/>
						- each process takes a random amount of time to complete<br/>
						- an iteration is when both processes begin<br/>
						- the scheduled interval between two iterations can be one of {100, 150, 200, 250, 300} [ms]<br/>
						- the <span class="red">red</span> process begins always before the <span style="color:green;">green</span> process and can last even more than (interval/2) [ms]<br/>
						- the <span style="color:green;">green</span> process is always scheduled (interval/2) [ms] after the <span class="red">red</span> process
					</p>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<canvas id="canvas"  style="border:1px solid #999;width:100%; height:50px;background-color:#FFFFFF"><br/>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<p class="important">
						<strong>Note:</strong> The canvas tag is not supported in Internet Explorer 8 and earlier versions.
					</p>
					<br/>
			</tr>
			
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 
					<p class="text">
						The example shows that, regardless of any time schedule, operated by 'setInterval', every job (the function 'process') is executed only after the previous is completed <span class="lessImportant">(Only when the interval of 'setInterval' is long enough, the schedule will be respected.)</span>
					</p>
					<p class="text">
						In other words, since the javascript 'engine' works on a single thread it does not allow <b>Concurrency</b>.
					</p>
					<p class="text">
					The key poit here is:<br/>
					<b>Two -or more- processes cannot run at the same time </b>. 	<span class="lessImportant">(The <span class="red">red</span> process and the <span style="color:green;">green</span> process will never overlap)</span>
					</p>
				</td>
			</tr>
		
		
			<tr>
				<td class="btnsContainer br15" style="vertical-align: top;"> 
					<button onclick="btnR6ALoops100_onClick(this)">Loops 100 [ms]</button>
					<button onclick="btnR6ALoops150_onClick(this)">Loops 150 [ms]</button>
					<button onclick="btnR6ALoops200_onClick(this)">Loops 200 [ms]</button>
					<button onclick="btnR6ALoops250_onClick(this)">Loops 250 [ms]</button>
					<button onclick="btnR6ALoops300_onClick(this)">Loops 300 [ms]</button>
				</td>
				<td class="pbsContainer" id="tdR6AC2" collspan="2"> 
					<div style="height:300px;overflow-x:hidden;overflow-y: auto;width:450px;">
						<ul id="ulR6A" style="">
						</ul>
					</div>		
				</td>
			</tr>
						
		</table>
	</section>
	
	
	<section style="min-height:170px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 6B:</span>&nbsp;
				<span class="SectionTitle">ProgressBar</span>
				<span class="SectionSubTitle">(Synchronous/Asynchronous).</span>
			</span>
		</h2>
		<!-- <h2>
			<span class="SectionLabel">Section 6B: </span><span class="SectionTitle">ProgressBar<span style="font-weight:normal;"> Synchronous/Asynchronous.</span></span>				
		</h2> -->
		<table border="0" >
		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 
				
				<p class="text">
					'ProgessBar' can  also run as a <b>synchronous </b> process. This session shows the different behavior, due to the fact that the javascript engine, runs on a single thread.
				</p>	
				</td>
			</tr>
		
		
			<tr>
				<td class="btnsContainer"> 
					<button onclick="btnR6BStartA_onclick(this)">start (Async)</button>
					<button onclick="btnR6BStartS_onclick(this)">start (Sync)</button>
				</td>
				<td class="pbsContainer" collspan="2"> 
					<div  id="tdR6BC2" class="scroll" style="width:100%;border:solid 1px transparent;">
						<table class="demo"cellspacing="0"></table>
					</div>				
				</td>
			</tr>
			
		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 
					<p class="text">
						When 'ProgessBar' is synchronous, each item completes its job <b>always in the same order</b>, always after the previous 'ProgressBar' completes and the page freezes.
					</p>
				</td>
			</tr>			
		</table>
	</section>
	
		
	<!--Note  -->
	<div class="comment">
		<p class="text">
			How this affects 'Promise'?
		</p>
	</div>		
	

	<section style="min-height:170px;">
		<h2>
			<span class="underline">
				<span class="SectionLabel">Section 7A:</span>&nbsp;
				<span class="SectionTitle">Promise.then</span>
				<span class="SectionSubTitle">(Synchronous/Asynchronous).</span>
			</span>
		</h2>
		<!-- <h2>
			<span class="SectionLabel">Section 7A: </span> <span class="SectionTitle">Promise.then<span style="font-weight:normal;"> Synchronous/Asynchronous.</span></span>		
		
		</h2> -->
		<table border="0" >
		
		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 
					<p class="text">
						A single "Promise" is completely indifferent whether the process it controls is synchronous or ASynchronous.
					</p>
				</td>
			</tr>
		
		
			<tr>
				<td class="btnsContainer"> 
					<button onclick="btnR7AThenA_onclick(this)">then (Async)</button>
					<button onclick="btnR7AThenS_onclick(this)">then (Sync)</button>
				</td>
				<td class="pbsContainer" collspan="2"> 
					<div  id="tdR7AC2" class="scroll" style="width:100%;border:solid 1px transparent;">
						<table class="demo"cellspacing="0"></table>
					</div>				
				</td>
			</tr>
			
			
		</table>
	</section>	
	

	<section >
		<h2>Note</h2>
			<p class="important">				
				Configuring a 'Master-Promise' is a 3 steps process.
			</p>
<pre>

	<span class="green">// 1) creating the array of <b>promises</b> where each element</span>
	<span class="green">// is a 'Promise', controlling its own process:</span>
	<span class="blue">var </span>promises = [ 
		<span class="blue">new </span>Promise(<span class="red">executor1</span>),
		<span class="blue">new </span>Promise(<span class="red">executor2</span>), 
		... ,
		<span class="blue">new </span>Promise(<span class="red">executorN</span>)
	];

	<span class="green">// 2) creating the <b>masterPromise</b>:</span>
	<span class="blue">var </span> masterPromise = Promise.all(promises);

	<span class="green">// 3) Let the masterPromise doing its job.</span>			
	masterPromise
	&nbsp;&nbsp;.then( ... )
	&nbsp;&nbsp;.finally( ... )
	&nbsp;&nbsp;.catch( ... );

</pre>
	<p class="important">
		They must be consecutive, but not necessarily in the same function!
	</p>		
	<p class="important">
		<b>The constraint is</b>, masterPromise must be created, at least, immediately before the first resolve/reject is called.
	</p>	
			
	</section>		

		
	<!--Section 7B  -->
	<section style="min-height:70px;">
		<h2>
			<span class="SectionLabel">Section 7B: </span> <span class="SectionTitle">Promise.all <span style="font-weight:normal;">three steps.</span></span>
		</h2>
		<table border="0" >		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 
					<p class="text">
						Another 'Promise.all', this time configurated following the previous note.
					</p>
				</td>
			</tr>
			<tr>
				<td class="btnsContainer"> 
					<button id="btnR7BNewPromise" onclick="btnR7BNewPromise_onclick(this)">new Master Promise</button>
					<br/>
					<br/>
					<!--button id="btnR7BAll" onclick="btnR7BAll_onclick(this)">all</button-->
					<br/>
					<br/>
					<button id="btnR7BThen" onclick="btnR7BThen_onclick(this)">then</button>				
				</td>
				<td class="pbsContainer" id="tdR7BC2" colspan="2"> 
					<table class="demo"cellspacing="0"></table>
				</td>

			</tr>

		</table>
	</section>	
	
	
	<!--Section 7C  -->
	<section style="min-height:70px;">
		<h2>
			<span class="SectionLabel">Section 7C:</span> <span class="SectionTitle">Promise.race <span style="font-weight:normal;">three steps.</span></span>
		</h2>
		<table border="0" >		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 
					<p class="text">				
						Another 'Promise.race', this time configurated following the previous note.
					</p>	
				</td>
			</tr>
			<tr>
				<td class="btnsContainer"> 
					<button id="btnR7CNewPromise" onclick="btnR7CNewPromise_onclick(this)">new Master Promise</button>
					<br/>
					<br/>
					<!--button id="btnR7CRace"  onclick="btnR7CRace_onclick(this)">race</button-->
					<br/>
					<br/>
					<button id="btnR7CThen" onclick="btnR7CThen_onclick(this)">then</button>				
				</td>
				<td class="pbsContainer" id="tdR7CC2" colspan="2"> 
					<table class="demo"cellspacing="0"></table>
				</td>

			</tr>

		</table>
	</section>

	<section >
		<h2>
			<span class="SectionLabel">Section 7D: </span> <span class="SectionTitle">setTimeout</span>			
		</h2>
		
		<table border="0" >		
			<tr>
				<td class="msgContainer" id="msgContainer1" colspan="3"> 	
					<p class="text">
					In both the previous sections:<br/> 
					- The 'Master-Promise' is instantiated immediately before the first 'resolve' is called.<br/> 
					- The 'then' button is enabled immediately after the 'Master-Promise' is created.<br/> 
					</p>
					<p class="text">
						This configuration is somewhat unusual, but it works!
					</p>
					<p class="text">
						What lesson did we learn from Session 7?<br/> 
						<br/> 
						- 7A demonstrates that synchronous processes halt the flow of code until they are completed.<br>
						- 7B and 7C illustrate that the 'Master-Promise' cannot be created after the synchronous processes it controls have completed.
					</p>
					<p class="text">		
						Therefore, <b>the processes controlled by the 'Promise' MUST be ASynchronous to be managed correctly!</b>
					</p>
					<p class="text">
						To elaborate further, the 'Master-Promise' needs to be created before any of the resolves or rejects are called. 
						However, to create a 'Master-Promise', for example, using Promise.race(promises), we need to create the array 
						of promises (the parameter of the Promise.race function).
					</p>
					<p class="text">
						To ensure that the processes controlled by each promise in the array wait until the 'Master-Promise' is 
						correctly configured, we can 'push' the process out of the currently executing function by using 
						setTimeout(start, 0);.
					</p>
				</td>
			</tr>

		</table>

	</section>	

	<aside style="background-color: #F0F0F5;">
		<h2>
			<span class="SectionLabel">Extra: </span> 
			<span class="SectionTitle">Console.js</span>
			<span style="font-weight:normal;">Adds styles to messages</span>
		</h2>
		<p class="text">
			'<b>Console.js</b>': a library that provides a simple way to log messages to the console.
		</p>
		<p class="text">
			<i>While in debug mode with tab 'Source' active and the tab 'Page' 
				(in the navigator: the picture below) the file Console.js</i>
		</p>
		<img src="./stuffs/Stuff.png" style="width: 226PX;margin:auto;display: block;border:solid 1px #ccc;">

		<br>
		
		<p class="text">
			Implements a 'custom' loging function, as shown in the picture below.
		</p>

		<img src="./stuffs/Console.png" style="width: 80%;margin:auto;display: block;border:solid 1px #ccc;margin-top:10px;">

		<br>
	</aside>
	
	<aside style="background-color: #F0F0F5;">
		<h2>
			<span class="SectionLabel">Extra: </span> 
			<span class="SectionTitle">The Workbench</span>
			<span style="font-weight:normal;">Rubik's cube tutorial + solver</span>
		</h2>

		<p class="text">
			A truly new easier approach to the rubikscube. <i>(Solves the cube with just one algorithm: the 'Sledgehammer'.)</i>
		</p>
		<br>		
		<img src="./stuffs/workbench.140x140.png" style="margin:auto;display: block;border:solid 1px transparent;margin-top:10px;">
		<br>
		<p class="text">
			<a target="_blank" href="https://www.easycubing.net/">easycubing.net</a> TUTORIAL: - <b>The Workbench</b>: a new approach to the Rubik's cube 
		</p>
		
		<p class="text">
			<a target="_blank" href="https://www.cubeiteasy.com/">cubeiteasy.com</a> SOLVER - to solve any scramble step by step 
		</p>
		<br>	

	</aside>
	
	<div class="comment">
		<p class="text">
			That's all.
		</p>
		<p class="text">
			Hoping you enjoyed this page.
		</p>
		<p class="text">
			Bye :-)				
		</p>	

		<br>	
		<br>	
	</div>	
	


	<!-- <div style="margin-bottom:20px;border: solid 2px red;">	
	</div> -->


</body>


</html>

<script src="./stuffs/tools.js"></script>
<script src="./stuffs/console.js"></script>


<!-- ===================================== -->
<script src="./js/S0A.js"></script>
<script src="./js/S1A.js"></script>
<script src="./js/S1ASub1.js"></script>
<script src="./js/S1B.js"></script>
<script src="./js/S1C.js"></script>
<script src="./js/S1D.js"></script>
<script src="./js/S1E.js"></script>
<script src="./js/S0C.js"></script>
<script src="./js/R0A.js"></script>
<script src="./js/R1A.js"></script>
<script src="./js/R1B.js"></script>
<script src="./js/R1C.js"></script>
<script src="./js/R2A.js"></script>
<script src="./js/R2B.js"></script>
<script src="./js/R2C.js"></script>
<script src="./js/R2D.js"></script>
<script src="./js/R3A.js"></script>
<script src="./js/R3B.js"></script>
<script src="./js/R4A.js"></script>
<!-- <script src="./js/R4ABis.js"></script> -->
<script src="./js/R4B.js"></script>
<script src="./js/R4C.js"></script>
<script src="./js/R4D.js"></script>
<!-- <script src="./js/R4DBis.js"></script> -->
<script src="./js/R5A.js"></script>
<script src="./js/R6A.js"></script>
<script src="./js/R6B.js"></script>
<script src="./js/R7A.js"></script>
<script src="./js/R7B.js"></script>
<script src="./js/R7C.js"></script>
<script src="./js/R7D.js"></script>
<script src="./js/T0.js"></script>
<!-- ===================================== -->


